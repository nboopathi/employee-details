{
  "version": 3,
  "sources": ["../../../../../node_modules/dexie/dist/dexie.js", "../../../../../node_modules/dexie/import-wrapper.mjs"],
  "sourcesContent": ["/*\n * Dexie.js - a minimalistic wrapper for IndexedDB\n * ===============================================\n *\n * By David Fahlander, david.fahlander@gmail.com\n *\n * Version 4.0.8, Wed Jul 10 2024\n *\n * https://dexie.org\n *\n * Apache License Version 2.0, January 2004, http://www.apache.org/licenses/\n */\n \n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.Dexie = factory());\n})(this, (function () { 'use strict';\n\n    /*! *****************************************************************************\n    Copyright (c) Microsoft Corporation.\n    Permission to use, copy, modify, and/or distribute this software for any\n    purpose with or without fee is hereby granted.\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n    PERFORMANCE OF THIS SOFTWARE.\n    ***************************************************************************** */\n    var extendStatics = function(d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    function __extends(d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    }\n    var __assign = function() {\n        __assign = Object.assign || function __assign(t) {\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\n                s = arguments[i];\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n            }\n            return t;\n        };\n        return __assign.apply(this, arguments);\n    };\n    function __spreadArray(to, from, pack) {\n        if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n            if (ar || !(i in from)) {\n                if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n                ar[i] = from[i];\n            }\n        }\n        return to.concat(ar || Array.prototype.slice.call(from));\n    }\n\n    var _global = typeof globalThis !== 'undefined' ? globalThis :\n        typeof self !== 'undefined' ? self :\n            typeof window !== 'undefined' ? window :\n                global;\n\n    var keys = Object.keys;\n    var isArray = Array.isArray;\n    if (typeof Promise !== 'undefined' && !_global.Promise) {\n        _global.Promise = Promise;\n    }\n    function extend(obj, extension) {\n        if (typeof extension !== 'object')\n            return obj;\n        keys(extension).forEach(function (key) {\n            obj[key] = extension[key];\n        });\n        return obj;\n    }\n    var getProto = Object.getPrototypeOf;\n    var _hasOwn = {}.hasOwnProperty;\n    function hasOwn(obj, prop) {\n        return _hasOwn.call(obj, prop);\n    }\n    function props(proto, extension) {\n        if (typeof extension === 'function')\n            extension = extension(getProto(proto));\n        (typeof Reflect === \"undefined\" ? keys : Reflect.ownKeys)(extension).forEach(function (key) {\n            setProp(proto, key, extension[key]);\n        });\n    }\n    var defineProperty = Object.defineProperty;\n    function setProp(obj, prop, functionOrGetSet, options) {\n        defineProperty(obj, prop, extend(functionOrGetSet && hasOwn(functionOrGetSet, \"get\") && typeof functionOrGetSet.get === 'function' ?\n            { get: functionOrGetSet.get, set: functionOrGetSet.set, configurable: true } :\n            { value: functionOrGetSet, configurable: true, writable: true }, options));\n    }\n    function derive(Child) {\n        return {\n            from: function (Parent) {\n                Child.prototype = Object.create(Parent.prototype);\n                setProp(Child.prototype, \"constructor\", Child);\n                return {\n                    extend: props.bind(null, Child.prototype)\n                };\n            }\n        };\n    }\n    var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n    function getPropertyDescriptor(obj, prop) {\n        var pd = getOwnPropertyDescriptor(obj, prop);\n        var proto;\n        return pd || (proto = getProto(obj)) && getPropertyDescriptor(proto, prop);\n    }\n    var _slice = [].slice;\n    function slice(args, start, end) {\n        return _slice.call(args, start, end);\n    }\n    function override(origFunc, overridedFactory) {\n        return overridedFactory(origFunc);\n    }\n    function assert(b) {\n        if (!b)\n            throw new Error(\"Assertion Failed\");\n    }\n    function asap$1(fn) {\n        if (_global.setImmediate)\n            setImmediate(fn);\n        else\n            setTimeout(fn, 0);\n    }\n    function arrayToObject(array, extractor) {\n        return array.reduce(function (result, item, i) {\n            var nameAndValue = extractor(item, i);\n            if (nameAndValue)\n                result[nameAndValue[0]] = nameAndValue[1];\n            return result;\n        }, {});\n    }\n    function getByKeyPath(obj, keyPath) {\n        if (typeof keyPath === 'string' && hasOwn(obj, keyPath))\n            return obj[keyPath];\n        if (!keyPath)\n            return obj;\n        if (typeof keyPath !== 'string') {\n            var rv = [];\n            for (var i = 0, l = keyPath.length; i < l; ++i) {\n                var val = getByKeyPath(obj, keyPath[i]);\n                rv.push(val);\n            }\n            return rv;\n        }\n        var period = keyPath.indexOf('.');\n        if (period !== -1) {\n            var innerObj = obj[keyPath.substr(0, period)];\n            return innerObj == null ? undefined : getByKeyPath(innerObj, keyPath.substr(period + 1));\n        }\n        return undefined;\n    }\n    function setByKeyPath(obj, keyPath, value) {\n        if (!obj || keyPath === undefined)\n            return;\n        if ('isFrozen' in Object && Object.isFrozen(obj))\n            return;\n        if (typeof keyPath !== 'string' && 'length' in keyPath) {\n            assert(typeof value !== 'string' && 'length' in value);\n            for (var i = 0, l = keyPath.length; i < l; ++i) {\n                setByKeyPath(obj, keyPath[i], value[i]);\n            }\n        }\n        else {\n            var period = keyPath.indexOf('.');\n            if (period !== -1) {\n                var currentKeyPath = keyPath.substr(0, period);\n                var remainingKeyPath = keyPath.substr(period + 1);\n                if (remainingKeyPath === \"\")\n                    if (value === undefined) {\n                        if (isArray(obj) && !isNaN(parseInt(currentKeyPath)))\n                            obj.splice(currentKeyPath, 1);\n                        else\n                            delete obj[currentKeyPath];\n                    }\n                    else\n                        obj[currentKeyPath] = value;\n                else {\n                    var innerObj = obj[currentKeyPath];\n                    if (!innerObj || !hasOwn(obj, currentKeyPath))\n                        innerObj = (obj[currentKeyPath] = {});\n                    setByKeyPath(innerObj, remainingKeyPath, value);\n                }\n            }\n            else {\n                if (value === undefined) {\n                    if (isArray(obj) && !isNaN(parseInt(keyPath)))\n                        obj.splice(keyPath, 1);\n                    else\n                        delete obj[keyPath];\n                }\n                else\n                    obj[keyPath] = value;\n            }\n        }\n    }\n    function delByKeyPath(obj, keyPath) {\n        if (typeof keyPath === 'string')\n            setByKeyPath(obj, keyPath, undefined);\n        else if ('length' in keyPath)\n            [].map.call(keyPath, function (kp) {\n                setByKeyPath(obj, kp, undefined);\n            });\n    }\n    function shallowClone(obj) {\n        var rv = {};\n        for (var m in obj) {\n            if (hasOwn(obj, m))\n                rv[m] = obj[m];\n        }\n        return rv;\n    }\n    var concat = [].concat;\n    function flatten(a) {\n        return concat.apply([], a);\n    }\n    var intrinsicTypeNames = \"BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey\"\n        .split(',').concat(flatten([8, 16, 32, 64].map(function (num) { return [\"Int\", \"Uint\", \"Float\"].map(function (t) { return t + num + \"Array\"; }); }))).filter(function (t) { return _global[t]; });\n    var intrinsicTypes = new Set(intrinsicTypeNames.map(function (t) { return _global[t]; }));\n    function cloneSimpleObjectTree(o) {\n        var rv = {};\n        for (var k in o)\n            if (hasOwn(o, k)) {\n                var v = o[k];\n                rv[k] = !v || typeof v !== 'object' || intrinsicTypes.has(v.constructor) ? v : cloneSimpleObjectTree(v);\n            }\n        return rv;\n    }\n    function objectIsEmpty(o) {\n        for (var k in o)\n            if (hasOwn(o, k))\n                return false;\n        return true;\n    }\n    var circularRefs = null;\n    function deepClone(any) {\n        circularRefs = new WeakMap();\n        var rv = innerDeepClone(any);\n        circularRefs = null;\n        return rv;\n    }\n    function innerDeepClone(x) {\n        if (!x || typeof x !== 'object')\n            return x;\n        var rv = circularRefs.get(x);\n        if (rv)\n            return rv;\n        if (isArray(x)) {\n            rv = [];\n            circularRefs.set(x, rv);\n            for (var i = 0, l = x.length; i < l; ++i) {\n                rv.push(innerDeepClone(x[i]));\n            }\n        }\n        else if (intrinsicTypes.has(x.constructor)) {\n            rv = x;\n        }\n        else {\n            var proto = getProto(x);\n            rv = proto === Object.prototype ? {} : Object.create(proto);\n            circularRefs.set(x, rv);\n            for (var prop in x) {\n                if (hasOwn(x, prop)) {\n                    rv[prop] = innerDeepClone(x[prop]);\n                }\n            }\n        }\n        return rv;\n    }\n    var toString = {}.toString;\n    function toStringTag(o) {\n        return toString.call(o).slice(8, -1);\n    }\n    var iteratorSymbol = typeof Symbol !== 'undefined' ?\n        Symbol.iterator :\n        '@@iterator';\n    var getIteratorOf = typeof iteratorSymbol === \"symbol\" ? function (x) {\n        var i;\n        return x != null && (i = x[iteratorSymbol]) && i.apply(x);\n    } : function () { return null; };\n    function delArrayItem(a, x) {\n        var i = a.indexOf(x);\n        if (i >= 0)\n            a.splice(i, 1);\n        return i >= 0;\n    }\n    var NO_CHAR_ARRAY = {};\n    function getArrayOf(arrayLike) {\n        var i, a, x, it;\n        if (arguments.length === 1) {\n            if (isArray(arrayLike))\n                return arrayLike.slice();\n            if (this === NO_CHAR_ARRAY && typeof arrayLike === 'string')\n                return [arrayLike];\n            if ((it = getIteratorOf(arrayLike))) {\n                a = [];\n                while ((x = it.next()), !x.done)\n                    a.push(x.value);\n                return a;\n            }\n            if (arrayLike == null)\n                return [arrayLike];\n            i = arrayLike.length;\n            if (typeof i === 'number') {\n                a = new Array(i);\n                while (i--)\n                    a[i] = arrayLike[i];\n                return a;\n            }\n            return [arrayLike];\n        }\n        i = arguments.length;\n        a = new Array(i);\n        while (i--)\n            a[i] = arguments[i];\n        return a;\n    }\n    var isAsyncFunction = typeof Symbol !== 'undefined'\n        ? function (fn) { return fn[Symbol.toStringTag] === 'AsyncFunction'; }\n        : function () { return false; };\n\n    var dexieErrorNames = [\n        'Modify',\n        'Bulk',\n        'OpenFailed',\n        'VersionChange',\n        'Schema',\n        'Upgrade',\n        'InvalidTable',\n        'MissingAPI',\n        'NoSuchDatabase',\n        'InvalidArgument',\n        'SubTransaction',\n        'Unsupported',\n        'Internal',\n        'DatabaseClosed',\n        'PrematureCommit',\n        'ForeignAwait'\n    ];\n    var idbDomErrorNames = [\n        'Unknown',\n        'Constraint',\n        'Data',\n        'TransactionInactive',\n        'ReadOnly',\n        'Version',\n        'NotFound',\n        'InvalidState',\n        'InvalidAccess',\n        'Abort',\n        'Timeout',\n        'QuotaExceeded',\n        'Syntax',\n        'DataClone'\n    ];\n    var errorList = dexieErrorNames.concat(idbDomErrorNames);\n    var defaultTexts = {\n        VersionChanged: \"Database version changed by other database connection\",\n        DatabaseClosed: \"Database has been closed\",\n        Abort: \"Transaction aborted\",\n        TransactionInactive: \"Transaction has already completed or failed\",\n        MissingAPI: \"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\"\n    };\n    function DexieError(name, msg) {\n        this.name = name;\n        this.message = msg;\n    }\n    derive(DexieError).from(Error).extend({\n        toString: function () { return this.name + \": \" + this.message; }\n    });\n    function getMultiErrorMessage(msg, failures) {\n        return msg + \". Errors: \" + Object.keys(failures)\n            .map(function (key) { return failures[key].toString(); })\n            .filter(function (v, i, s) { return s.indexOf(v) === i; })\n            .join('\\n');\n    }\n    function ModifyError(msg, failures, successCount, failedKeys) {\n        this.failures = failures;\n        this.failedKeys = failedKeys;\n        this.successCount = successCount;\n        this.message = getMultiErrorMessage(msg, failures);\n    }\n    derive(ModifyError).from(DexieError);\n    function BulkError(msg, failures) {\n        this.name = \"BulkError\";\n        this.failures = Object.keys(failures).map(function (pos) { return failures[pos]; });\n        this.failuresByPos = failures;\n        this.message = getMultiErrorMessage(msg, this.failures);\n    }\n    derive(BulkError).from(DexieError);\n    var errnames = errorList.reduce(function (obj, name) { return (obj[name] = name + \"Error\", obj); }, {});\n    var BaseException = DexieError;\n    var exceptions = errorList.reduce(function (obj, name) {\n        var fullName = name + \"Error\";\n        function DexieError(msgOrInner, inner) {\n            this.name = fullName;\n            if (!msgOrInner) {\n                this.message = defaultTexts[name] || fullName;\n                this.inner = null;\n            }\n            else if (typeof msgOrInner === 'string') {\n                this.message = \"\".concat(msgOrInner).concat(!inner ? '' : '\\n ' + inner);\n                this.inner = inner || null;\n            }\n            else if (typeof msgOrInner === 'object') {\n                this.message = \"\".concat(msgOrInner.name, \" \").concat(msgOrInner.message);\n                this.inner = msgOrInner;\n            }\n        }\n        derive(DexieError).from(BaseException);\n        obj[name] = DexieError;\n        return obj;\n    }, {});\n    exceptions.Syntax = SyntaxError;\n    exceptions.Type = TypeError;\n    exceptions.Range = RangeError;\n    var exceptionMap = idbDomErrorNames.reduce(function (obj, name) {\n        obj[name + \"Error\"] = exceptions[name];\n        return obj;\n    }, {});\n    function mapError(domError, message) {\n        if (!domError || domError instanceof DexieError || domError instanceof TypeError || domError instanceof SyntaxError || !domError.name || !exceptionMap[domError.name])\n            return domError;\n        var rv = new exceptionMap[domError.name](message || domError.message, domError);\n        if (\"stack\" in domError) {\n            setProp(rv, \"stack\", { get: function () {\n                    return this.inner.stack;\n                } });\n        }\n        return rv;\n    }\n    var fullNameExceptions = errorList.reduce(function (obj, name) {\n        if ([\"Syntax\", \"Type\", \"Range\"].indexOf(name) === -1)\n            obj[name + \"Error\"] = exceptions[name];\n        return obj;\n    }, {});\n    fullNameExceptions.ModifyError = ModifyError;\n    fullNameExceptions.DexieError = DexieError;\n    fullNameExceptions.BulkError = BulkError;\n\n    function nop() { }\n    function mirror(val) { return val; }\n    function pureFunctionChain(f1, f2) {\n        if (f1 == null || f1 === mirror)\n            return f2;\n        return function (val) {\n            return f2(f1(val));\n        };\n    }\n    function callBoth(on1, on2) {\n        return function () {\n            on1.apply(this, arguments);\n            on2.apply(this, arguments);\n        };\n    }\n    function hookCreatingChain(f1, f2) {\n        if (f1 === nop)\n            return f2;\n        return function () {\n            var res = f1.apply(this, arguments);\n            if (res !== undefined)\n                arguments[0] = res;\n            var onsuccess = this.onsuccess,\n            onerror = this.onerror;\n            this.onsuccess = null;\n            this.onerror = null;\n            var res2 = f2.apply(this, arguments);\n            if (onsuccess)\n                this.onsuccess = this.onsuccess ? callBoth(onsuccess, this.onsuccess) : onsuccess;\n            if (onerror)\n                this.onerror = this.onerror ? callBoth(onerror, this.onerror) : onerror;\n            return res2 !== undefined ? res2 : res;\n        };\n    }\n    function hookDeletingChain(f1, f2) {\n        if (f1 === nop)\n            return f2;\n        return function () {\n            f1.apply(this, arguments);\n            var onsuccess = this.onsuccess,\n            onerror = this.onerror;\n            this.onsuccess = this.onerror = null;\n            f2.apply(this, arguments);\n            if (onsuccess)\n                this.onsuccess = this.onsuccess ? callBoth(onsuccess, this.onsuccess) : onsuccess;\n            if (onerror)\n                this.onerror = this.onerror ? callBoth(onerror, this.onerror) : onerror;\n        };\n    }\n    function hookUpdatingChain(f1, f2) {\n        if (f1 === nop)\n            return f2;\n        return function (modifications) {\n            var res = f1.apply(this, arguments);\n            extend(modifications, res);\n            var onsuccess = this.onsuccess,\n            onerror = this.onerror;\n            this.onsuccess = null;\n            this.onerror = null;\n            var res2 = f2.apply(this, arguments);\n            if (onsuccess)\n                this.onsuccess = this.onsuccess ? callBoth(onsuccess, this.onsuccess) : onsuccess;\n            if (onerror)\n                this.onerror = this.onerror ? callBoth(onerror, this.onerror) : onerror;\n            return res === undefined ?\n                (res2 === undefined ? undefined : res2) :\n                (extend(res, res2));\n        };\n    }\n    function reverseStoppableEventChain(f1, f2) {\n        if (f1 === nop)\n            return f2;\n        return function () {\n            if (f2.apply(this, arguments) === false)\n                return false;\n            return f1.apply(this, arguments);\n        };\n    }\n    function promisableChain(f1, f2) {\n        if (f1 === nop)\n            return f2;\n        return function () {\n            var res = f1.apply(this, arguments);\n            if (res && typeof res.then === 'function') {\n                var thiz = this, i = arguments.length, args = new Array(i);\n                while (i--)\n                    args[i] = arguments[i];\n                return res.then(function () {\n                    return f2.apply(thiz, args);\n                });\n            }\n            return f2.apply(this, arguments);\n        };\n    }\n\n    var debug = typeof location !== 'undefined' &&\n        /^(http|https):\\/\\/(localhost|127\\.0\\.0\\.1)/.test(location.href);\n    function setDebug(value, filter) {\n        debug = value;\n    }\n\n    var INTERNAL = {};\n    var ZONE_ECHO_LIMIT = 100, _a$1 = typeof Promise === 'undefined' ?\n        [] :\n        (function () {\n            var globalP = Promise.resolve();\n            if (typeof crypto === 'undefined' || !crypto.subtle)\n                return [globalP, getProto(globalP), globalP];\n            var nativeP = crypto.subtle.digest(\"SHA-512\", new Uint8Array([0]));\n            return [\n                nativeP,\n                getProto(nativeP),\n                globalP\n            ];\n        })(), resolvedNativePromise = _a$1[0], nativePromiseProto = _a$1[1], resolvedGlobalPromise = _a$1[2], nativePromiseThen = nativePromiseProto && nativePromiseProto.then;\n    var NativePromise = resolvedNativePromise && resolvedNativePromise.constructor;\n    var patchGlobalPromise = !!resolvedGlobalPromise;\n    function schedulePhysicalTick() {\n        queueMicrotask(physicalTick);\n    }\n    var asap = function (callback, args) {\n        microtickQueue.push([callback, args]);\n        if (needsNewPhysicalTick) {\n            schedulePhysicalTick();\n            needsNewPhysicalTick = false;\n        }\n    };\n    var isOutsideMicroTick = true,\n    needsNewPhysicalTick = true,\n    unhandledErrors = [],\n    rejectingErrors = [],\n    rejectionMapper = mirror;\n    var globalPSD = {\n        id: 'global',\n        global: true,\n        ref: 0,\n        unhandleds: [],\n        onunhandled: nop,\n        pgp: false,\n        env: {},\n        finalize: nop\n    };\n    var PSD = globalPSD;\n    var microtickQueue = [];\n    var numScheduledCalls = 0;\n    var tickFinalizers = [];\n    function DexiePromise(fn) {\n        if (typeof this !== 'object')\n            throw new TypeError('Promises must be constructed via new');\n        this._listeners = [];\n        this._lib = false;\n        var psd = (this._PSD = PSD);\n        if (typeof fn !== 'function') {\n            if (fn !== INTERNAL)\n                throw new TypeError('Not a function');\n            this._state = arguments[1];\n            this._value = arguments[2];\n            if (this._state === false)\n                handleRejection(this, this._value);\n            return;\n        }\n        this._state = null;\n        this._value = null;\n        ++psd.ref;\n        executePromiseTask(this, fn);\n    }\n    var thenProp = {\n        get: function () {\n            var psd = PSD, microTaskId = totalEchoes;\n            function then(onFulfilled, onRejected) {\n                var _this = this;\n                var possibleAwait = !psd.global && (psd !== PSD || microTaskId !== totalEchoes);\n                var cleanup = possibleAwait && !decrementExpectedAwaits();\n                var rv = new DexiePromise(function (resolve, reject) {\n                    propagateToListener(_this, new Listener(nativeAwaitCompatibleWrap(onFulfilled, psd, possibleAwait, cleanup), nativeAwaitCompatibleWrap(onRejected, psd, possibleAwait, cleanup), resolve, reject, psd));\n                });\n                if (this._consoleTask)\n                    rv._consoleTask = this._consoleTask;\n                return rv;\n            }\n            then.prototype = INTERNAL;\n            return then;\n        },\n        set: function (value) {\n            setProp(this, 'then', value && value.prototype === INTERNAL ?\n                thenProp :\n                {\n                    get: function () {\n                        return value;\n                    },\n                    set: thenProp.set\n                });\n        }\n    };\n    props(DexiePromise.prototype, {\n        then: thenProp,\n        _then: function (onFulfilled, onRejected) {\n            propagateToListener(this, new Listener(null, null, onFulfilled, onRejected, PSD));\n        },\n        catch: function (onRejected) {\n            if (arguments.length === 1)\n                return this.then(null, onRejected);\n            var type = arguments[0], handler = arguments[1];\n            return typeof type === 'function' ? this.then(null, function (err) {\n                return err instanceof type ? handler(err) : PromiseReject(err);\n            })\n                : this.then(null, function (err) {\n                    return err && err.name === type ? handler(err) : PromiseReject(err);\n                });\n        },\n        finally: function (onFinally) {\n            return this.then(function (value) {\n                return DexiePromise.resolve(onFinally()).then(function () { return value; });\n            }, function (err) {\n                return DexiePromise.resolve(onFinally()).then(function () { return PromiseReject(err); });\n            });\n        },\n        timeout: function (ms, msg) {\n            var _this = this;\n            return ms < Infinity ?\n                new DexiePromise(function (resolve, reject) {\n                    var handle = setTimeout(function () { return reject(new exceptions.Timeout(msg)); }, ms);\n                    _this.then(resolve, reject).finally(clearTimeout.bind(null, handle));\n                }) : this;\n        }\n    });\n    if (typeof Symbol !== 'undefined' && Symbol.toStringTag)\n        setProp(DexiePromise.prototype, Symbol.toStringTag, 'Dexie.Promise');\n    globalPSD.env = snapShot();\n    function Listener(onFulfilled, onRejected, resolve, reject, zone) {\n        this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n        this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n        this.resolve = resolve;\n        this.reject = reject;\n        this.psd = zone;\n    }\n    props(DexiePromise, {\n        all: function () {\n            var values = getArrayOf.apply(null, arguments)\n                .map(onPossibleParallellAsync);\n            return new DexiePromise(function (resolve, reject) {\n                if (values.length === 0)\n                    resolve([]);\n                var remaining = values.length;\n                values.forEach(function (a, i) { return DexiePromise.resolve(a).then(function (x) {\n                    values[i] = x;\n                    if (!--remaining)\n                        resolve(values);\n                }, reject); });\n            });\n        },\n        resolve: function (value) {\n            if (value instanceof DexiePromise)\n                return value;\n            if (value && typeof value.then === 'function')\n                return new DexiePromise(function (resolve, reject) {\n                    value.then(resolve, reject);\n                });\n            var rv = new DexiePromise(INTERNAL, true, value);\n            return rv;\n        },\n        reject: PromiseReject,\n        race: function () {\n            var values = getArrayOf.apply(null, arguments).map(onPossibleParallellAsync);\n            return new DexiePromise(function (resolve, reject) {\n                values.map(function (value) { return DexiePromise.resolve(value).then(resolve, reject); });\n            });\n        },\n        PSD: {\n            get: function () { return PSD; },\n            set: function (value) { return PSD = value; }\n        },\n        totalEchoes: { get: function () { return totalEchoes; } },\n        newPSD: newScope,\n        usePSD: usePSD,\n        scheduler: {\n            get: function () { return asap; },\n            set: function (value) { asap = value; }\n        },\n        rejectionMapper: {\n            get: function () { return rejectionMapper; },\n            set: function (value) { rejectionMapper = value; }\n        },\n        follow: function (fn, zoneProps) {\n            return new DexiePromise(function (resolve, reject) {\n                return newScope(function (resolve, reject) {\n                    var psd = PSD;\n                    psd.unhandleds = [];\n                    psd.onunhandled = reject;\n                    psd.finalize = callBoth(function () {\n                        var _this = this;\n                        run_at_end_of_this_or_next_physical_tick(function () {\n                            _this.unhandleds.length === 0 ? resolve() : reject(_this.unhandleds[0]);\n                        });\n                    }, psd.finalize);\n                    fn();\n                }, zoneProps, resolve, reject);\n            });\n        }\n    });\n    if (NativePromise) {\n        if (NativePromise.allSettled)\n            setProp(DexiePromise, \"allSettled\", function () {\n                var possiblePromises = getArrayOf.apply(null, arguments).map(onPossibleParallellAsync);\n                return new DexiePromise(function (resolve) {\n                    if (possiblePromises.length === 0)\n                        resolve([]);\n                    var remaining = possiblePromises.length;\n                    var results = new Array(remaining);\n                    possiblePromises.forEach(function (p, i) { return DexiePromise.resolve(p).then(function (value) { return results[i] = { status: \"fulfilled\", value: value }; }, function (reason) { return results[i] = { status: \"rejected\", reason: reason }; })\n                        .then(function () { return --remaining || resolve(results); }); });\n                });\n            });\n        if (NativePromise.any && typeof AggregateError !== 'undefined')\n            setProp(DexiePromise, \"any\", function () {\n                var possiblePromises = getArrayOf.apply(null, arguments).map(onPossibleParallellAsync);\n                return new DexiePromise(function (resolve, reject) {\n                    if (possiblePromises.length === 0)\n                        reject(new AggregateError([]));\n                    var remaining = possiblePromises.length;\n                    var failures = new Array(remaining);\n                    possiblePromises.forEach(function (p, i) { return DexiePromise.resolve(p).then(function (value) { return resolve(value); }, function (failure) {\n                        failures[i] = failure;\n                        if (!--remaining)\n                            reject(new AggregateError(failures));\n                    }); });\n                });\n            });\n    }\n    function executePromiseTask(promise, fn) {\n        try {\n            fn(function (value) {\n                if (promise._state !== null)\n                    return;\n                if (value === promise)\n                    throw new TypeError('A promise cannot be resolved with itself.');\n                var shouldExecuteTick = promise._lib && beginMicroTickScope();\n                if (value && typeof value.then === 'function') {\n                    executePromiseTask(promise, function (resolve, reject) {\n                        value instanceof DexiePromise ?\n                            value._then(resolve, reject) :\n                            value.then(resolve, reject);\n                    });\n                }\n                else {\n                    promise._state = true;\n                    promise._value = value;\n                    propagateAllListeners(promise);\n                }\n                if (shouldExecuteTick)\n                    endMicroTickScope();\n            }, handleRejection.bind(null, promise));\n        }\n        catch (ex) {\n            handleRejection(promise, ex);\n        }\n    }\n    function handleRejection(promise, reason) {\n        rejectingErrors.push(reason);\n        if (promise._state !== null)\n            return;\n        var shouldExecuteTick = promise._lib && beginMicroTickScope();\n        reason = rejectionMapper(reason);\n        promise._state = false;\n        promise._value = reason;\n        addPossiblyUnhandledError(promise);\n        propagateAllListeners(promise);\n        if (shouldExecuteTick)\n            endMicroTickScope();\n    }\n    function propagateAllListeners(promise) {\n        var listeners = promise._listeners;\n        promise._listeners = [];\n        for (var i = 0, len = listeners.length; i < len; ++i) {\n            propagateToListener(promise, listeners[i]);\n        }\n        var psd = promise._PSD;\n        --psd.ref || psd.finalize();\n        if (numScheduledCalls === 0) {\n            ++numScheduledCalls;\n            asap(function () {\n                if (--numScheduledCalls === 0)\n                    finalizePhysicalTick();\n            }, []);\n        }\n    }\n    function propagateToListener(promise, listener) {\n        if (promise._state === null) {\n            promise._listeners.push(listener);\n            return;\n        }\n        var cb = promise._state ? listener.onFulfilled : listener.onRejected;\n        if (cb === null) {\n            return (promise._state ? listener.resolve : listener.reject)(promise._value);\n        }\n        ++listener.psd.ref;\n        ++numScheduledCalls;\n        asap(callListener, [cb, promise, listener]);\n    }\n    function callListener(cb, promise, listener) {\n        try {\n            var ret, value = promise._value;\n            if (!promise._state && rejectingErrors.length)\n                rejectingErrors = [];\n            ret = debug && promise._consoleTask ? promise._consoleTask.run(function () { return cb(value); }) : cb(value);\n            if (!promise._state && rejectingErrors.indexOf(value) === -1) {\n                markErrorAsHandled(promise);\n            }\n            listener.resolve(ret);\n        }\n        catch (e) {\n            listener.reject(e);\n        }\n        finally {\n            if (--numScheduledCalls === 0)\n                finalizePhysicalTick();\n            --listener.psd.ref || listener.psd.finalize();\n        }\n    }\n    function physicalTick() {\n        usePSD(globalPSD, function () {\n            beginMicroTickScope() && endMicroTickScope();\n        });\n    }\n    function beginMicroTickScope() {\n        var wasRootExec = isOutsideMicroTick;\n        isOutsideMicroTick = false;\n        needsNewPhysicalTick = false;\n        return wasRootExec;\n    }\n    function endMicroTickScope() {\n        var callbacks, i, l;\n        do {\n            while (microtickQueue.length > 0) {\n                callbacks = microtickQueue;\n                microtickQueue = [];\n                l = callbacks.length;\n                for (i = 0; i < l; ++i) {\n                    var item = callbacks[i];\n                    item[0].apply(null, item[1]);\n                }\n            }\n        } while (microtickQueue.length > 0);\n        isOutsideMicroTick = true;\n        needsNewPhysicalTick = true;\n    }\n    function finalizePhysicalTick() {\n        var unhandledErrs = unhandledErrors;\n        unhandledErrors = [];\n        unhandledErrs.forEach(function (p) {\n            p._PSD.onunhandled.call(null, p._value, p);\n        });\n        var finalizers = tickFinalizers.slice(0);\n        var i = finalizers.length;\n        while (i)\n            finalizers[--i]();\n    }\n    function run_at_end_of_this_or_next_physical_tick(fn) {\n        function finalizer() {\n            fn();\n            tickFinalizers.splice(tickFinalizers.indexOf(finalizer), 1);\n        }\n        tickFinalizers.push(finalizer);\n        ++numScheduledCalls;\n        asap(function () {\n            if (--numScheduledCalls === 0)\n                finalizePhysicalTick();\n        }, []);\n    }\n    function addPossiblyUnhandledError(promise) {\n        if (!unhandledErrors.some(function (p) { return p._value === promise._value; }))\n            unhandledErrors.push(promise);\n    }\n    function markErrorAsHandled(promise) {\n        var i = unhandledErrors.length;\n        while (i)\n            if (unhandledErrors[--i]._value === promise._value) {\n                unhandledErrors.splice(i, 1);\n                return;\n            }\n    }\n    function PromiseReject(reason) {\n        return new DexiePromise(INTERNAL, false, reason);\n    }\n    function wrap(fn, errorCatcher) {\n        var psd = PSD;\n        return function () {\n            var wasRootExec = beginMicroTickScope(), outerScope = PSD;\n            try {\n                switchToZone(psd, true);\n                return fn.apply(this, arguments);\n            }\n            catch (e) {\n                errorCatcher && errorCatcher(e);\n            }\n            finally {\n                switchToZone(outerScope, false);\n                if (wasRootExec)\n                    endMicroTickScope();\n            }\n        };\n    }\n    var task = { awaits: 0, echoes: 0, id: 0 };\n    var taskCounter = 0;\n    var zoneStack = [];\n    var zoneEchoes = 0;\n    var totalEchoes = 0;\n    var zone_id_counter = 0;\n    function newScope(fn, props, a1, a2) {\n        var parent = PSD, psd = Object.create(parent);\n        psd.parent = parent;\n        psd.ref = 0;\n        psd.global = false;\n        psd.id = ++zone_id_counter;\n        globalPSD.env;\n        psd.env = patchGlobalPromise ? {\n            Promise: DexiePromise,\n            PromiseProp: { value: DexiePromise, configurable: true, writable: true },\n            all: DexiePromise.all,\n            race: DexiePromise.race,\n            allSettled: DexiePromise.allSettled,\n            any: DexiePromise.any,\n            resolve: DexiePromise.resolve,\n            reject: DexiePromise.reject,\n        } : {};\n        if (props)\n            extend(psd, props);\n        ++parent.ref;\n        psd.finalize = function () {\n            --this.parent.ref || this.parent.finalize();\n        };\n        var rv = usePSD(psd, fn, a1, a2);\n        if (psd.ref === 0)\n            psd.finalize();\n        return rv;\n    }\n    function incrementExpectedAwaits() {\n        if (!task.id)\n            task.id = ++taskCounter;\n        ++task.awaits;\n        task.echoes += ZONE_ECHO_LIMIT;\n        return task.id;\n    }\n    function decrementExpectedAwaits() {\n        if (!task.awaits)\n            return false;\n        if (--task.awaits === 0)\n            task.id = 0;\n        task.echoes = task.awaits * ZONE_ECHO_LIMIT;\n        return true;\n    }\n    if (('' + nativePromiseThen).indexOf('[native code]') === -1) {\n        incrementExpectedAwaits = decrementExpectedAwaits = nop;\n    }\n    function onPossibleParallellAsync(possiblePromise) {\n        if (task.echoes && possiblePromise && possiblePromise.constructor === NativePromise) {\n            incrementExpectedAwaits();\n            return possiblePromise.then(function (x) {\n                decrementExpectedAwaits();\n                return x;\n            }, function (e) {\n                decrementExpectedAwaits();\n                return rejection(e);\n            });\n        }\n        return possiblePromise;\n    }\n    function zoneEnterEcho(targetZone) {\n        ++totalEchoes;\n        if (!task.echoes || --task.echoes === 0) {\n            task.echoes = task.awaits = task.id = 0;\n        }\n        zoneStack.push(PSD);\n        switchToZone(targetZone, true);\n    }\n    function zoneLeaveEcho() {\n        var zone = zoneStack[zoneStack.length - 1];\n        zoneStack.pop();\n        switchToZone(zone, false);\n    }\n    function switchToZone(targetZone, bEnteringZone) {\n        var currentZone = PSD;\n        if (bEnteringZone ? task.echoes && (!zoneEchoes++ || targetZone !== PSD) : zoneEchoes && (!--zoneEchoes || targetZone !== PSD)) {\n            queueMicrotask(bEnteringZone ? zoneEnterEcho.bind(null, targetZone) : zoneLeaveEcho);\n        }\n        if (targetZone === PSD)\n            return;\n        PSD = targetZone;\n        if (currentZone === globalPSD)\n            globalPSD.env = snapShot();\n        if (patchGlobalPromise) {\n            var GlobalPromise = globalPSD.env.Promise;\n            var targetEnv = targetZone.env;\n            if (currentZone.global || targetZone.global) {\n                Object.defineProperty(_global, 'Promise', targetEnv.PromiseProp);\n                GlobalPromise.all = targetEnv.all;\n                GlobalPromise.race = targetEnv.race;\n                GlobalPromise.resolve = targetEnv.resolve;\n                GlobalPromise.reject = targetEnv.reject;\n                if (targetEnv.allSettled)\n                    GlobalPromise.allSettled = targetEnv.allSettled;\n                if (targetEnv.any)\n                    GlobalPromise.any = targetEnv.any;\n            }\n        }\n    }\n    function snapShot() {\n        var GlobalPromise = _global.Promise;\n        return patchGlobalPromise ? {\n            Promise: GlobalPromise,\n            PromiseProp: Object.getOwnPropertyDescriptor(_global, \"Promise\"),\n            all: GlobalPromise.all,\n            race: GlobalPromise.race,\n            allSettled: GlobalPromise.allSettled,\n            any: GlobalPromise.any,\n            resolve: GlobalPromise.resolve,\n            reject: GlobalPromise.reject,\n        } : {};\n    }\n    function usePSD(psd, fn, a1, a2, a3) {\n        var outerScope = PSD;\n        try {\n            switchToZone(psd, true);\n            return fn(a1, a2, a3);\n        }\n        finally {\n            switchToZone(outerScope, false);\n        }\n    }\n    function nativeAwaitCompatibleWrap(fn, zone, possibleAwait, cleanup) {\n        return typeof fn !== 'function' ? fn : function () {\n            var outerZone = PSD;\n            if (possibleAwait)\n                incrementExpectedAwaits();\n            switchToZone(zone, true);\n            try {\n                return fn.apply(this, arguments);\n            }\n            finally {\n                switchToZone(outerZone, false);\n                if (cleanup)\n                    queueMicrotask(decrementExpectedAwaits);\n            }\n        };\n    }\n    function execInGlobalContext(cb) {\n        if (Promise === NativePromise && task.echoes === 0) {\n            if (zoneEchoes === 0) {\n                cb();\n            }\n            else {\n                enqueueNativeMicroTask(cb);\n            }\n        }\n        else {\n            setTimeout(cb, 0);\n        }\n    }\n    var rejection = DexiePromise.reject;\n\n    function tempTransaction(db, mode, storeNames, fn) {\n        if (!db.idbdb || (!db._state.openComplete && (!PSD.letThrough && !db._vip))) {\n            if (db._state.openComplete) {\n                return rejection(new exceptions.DatabaseClosed(db._state.dbOpenError));\n            }\n            if (!db._state.isBeingOpened) {\n                if (!db._state.autoOpen)\n                    return rejection(new exceptions.DatabaseClosed());\n                db.open().catch(nop);\n            }\n            return db._state.dbReadyPromise.then(function () { return tempTransaction(db, mode, storeNames, fn); });\n        }\n        else {\n            var trans = db._createTransaction(mode, storeNames, db._dbSchema);\n            try {\n                trans.create();\n                db._state.PR1398_maxLoop = 3;\n            }\n            catch (ex) {\n                if (ex.name === errnames.InvalidState && db.isOpen() && --db._state.PR1398_maxLoop > 0) {\n                    console.warn('Dexie: Need to reopen db');\n                    db.close({ disableAutoOpen: false });\n                    return db.open().then(function () { return tempTransaction(db, mode, storeNames, fn); });\n                }\n                return rejection(ex);\n            }\n            return trans._promise(mode, function (resolve, reject) {\n                return newScope(function () {\n                    PSD.trans = trans;\n                    return fn(resolve, reject, trans);\n                });\n            }).then(function (result) {\n                if (mode === 'readwrite')\n                    try {\n                        trans.idbtrans.commit();\n                    }\n                    catch (_a) { }\n                return mode === 'readonly' ? result : trans._completion.then(function () { return result; });\n            });\n        }\n    }\n\n    var DEXIE_VERSION = '4.0.8';\n    var maxString = String.fromCharCode(65535);\n    var minKey = -Infinity;\n    var INVALID_KEY_ARGUMENT = \"Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.\";\n    var STRING_EXPECTED = \"String expected.\";\n    var connections = [];\n    var DBNAMES_DB = '__dbnames';\n    var READONLY = 'readonly';\n    var READWRITE = 'readwrite';\n\n    function combine(filter1, filter2) {\n        return filter1 ?\n            filter2 ?\n                function () { return filter1.apply(this, arguments) && filter2.apply(this, arguments); } :\n                filter1 :\n            filter2;\n    }\n\n    var AnyRange = {\n        type: 3 ,\n        lower: -Infinity,\n        lowerOpen: false,\n        upper: [[]],\n        upperOpen: false\n    };\n\n    function workaroundForUndefinedPrimKey(keyPath) {\n        return typeof keyPath === \"string\" && !/\\./.test(keyPath)\n            ? function (obj) {\n                if (obj[keyPath] === undefined && (keyPath in obj)) {\n                    obj = deepClone(obj);\n                    delete obj[keyPath];\n                }\n                return obj;\n            }\n            : function (obj) { return obj; };\n    }\n\n    function Entity() {\n        throw exceptions.Type();\n    }\n\n    function cmp(a, b) {\n        try {\n            var ta = type(a);\n            var tb = type(b);\n            if (ta !== tb) {\n                if (ta === 'Array')\n                    return 1;\n                if (tb === 'Array')\n                    return -1;\n                if (ta === 'binary')\n                    return 1;\n                if (tb === 'binary')\n                    return -1;\n                if (ta === 'string')\n                    return 1;\n                if (tb === 'string')\n                    return -1;\n                if (ta === 'Date')\n                    return 1;\n                if (tb !== 'Date')\n                    return NaN;\n                return -1;\n            }\n            switch (ta) {\n                case 'number':\n                case 'Date':\n                case 'string':\n                    return a > b ? 1 : a < b ? -1 : 0;\n                case 'binary': {\n                    return compareUint8Arrays(getUint8Array(a), getUint8Array(b));\n                }\n                case 'Array':\n                    return compareArrays(a, b);\n            }\n        }\n        catch (_a) { }\n        return NaN;\n    }\n    function compareArrays(a, b) {\n        var al = a.length;\n        var bl = b.length;\n        var l = al < bl ? al : bl;\n        for (var i = 0; i < l; ++i) {\n            var res = cmp(a[i], b[i]);\n            if (res !== 0)\n                return res;\n        }\n        return al === bl ? 0 : al < bl ? -1 : 1;\n    }\n    function compareUint8Arrays(a, b) {\n        var al = a.length;\n        var bl = b.length;\n        var l = al < bl ? al : bl;\n        for (var i = 0; i < l; ++i) {\n            if (a[i] !== b[i])\n                return a[i] < b[i] ? -1 : 1;\n        }\n        return al === bl ? 0 : al < bl ? -1 : 1;\n    }\n    function type(x) {\n        var t = typeof x;\n        if (t !== 'object')\n            return t;\n        if (ArrayBuffer.isView(x))\n            return 'binary';\n        var tsTag = toStringTag(x);\n        return tsTag === 'ArrayBuffer' ? 'binary' : tsTag;\n    }\n    function getUint8Array(a) {\n        if (a instanceof Uint8Array)\n            return a;\n        if (ArrayBuffer.isView(a))\n            return new Uint8Array(a.buffer, a.byteOffset, a.byteLength);\n        return new Uint8Array(a);\n    }\n\n    var Table =  (function () {\n        function Table() {\n        }\n        Table.prototype._trans = function (mode, fn, writeLocked) {\n            var trans = this._tx || PSD.trans;\n            var tableName = this.name;\n            var task = debug && typeof console !== 'undefined' && console.createTask && console.createTask(\"Dexie: \".concat(mode === 'readonly' ? 'read' : 'write', \" \").concat(this.name));\n            function checkTableInTransaction(resolve, reject, trans) {\n                if (!trans.schema[tableName])\n                    throw new exceptions.NotFound(\"Table \" + tableName + \" not part of transaction\");\n                return fn(trans.idbtrans, trans);\n            }\n            var wasRootExec = beginMicroTickScope();\n            try {\n                var p = trans && trans.db._novip === this.db._novip ?\n                    trans === PSD.trans ?\n                        trans._promise(mode, checkTableInTransaction, writeLocked) :\n                        newScope(function () { return trans._promise(mode, checkTableInTransaction, writeLocked); }, { trans: trans, transless: PSD.transless || PSD }) :\n                    tempTransaction(this.db, mode, [this.name], checkTableInTransaction);\n                if (task) {\n                    p._consoleTask = task;\n                    p = p.catch(function (err) {\n                        console.trace(err);\n                        return rejection(err);\n                    });\n                }\n                return p;\n            }\n            finally {\n                if (wasRootExec)\n                    endMicroTickScope();\n            }\n        };\n        Table.prototype.get = function (keyOrCrit, cb) {\n            var _this = this;\n            if (keyOrCrit && keyOrCrit.constructor === Object)\n                return this.where(keyOrCrit).first(cb);\n            if (keyOrCrit == null)\n                return rejection(new exceptions.Type(\"Invalid argument to Table.get()\"));\n            return this._trans('readonly', function (trans) {\n                return _this.core.get({ trans: trans, key: keyOrCrit })\n                    .then(function (res) { return _this.hook.reading.fire(res); });\n            }).then(cb);\n        };\n        Table.prototype.where = function (indexOrCrit) {\n            if (typeof indexOrCrit === 'string')\n                return new this.db.WhereClause(this, indexOrCrit);\n            if (isArray(indexOrCrit))\n                return new this.db.WhereClause(this, \"[\".concat(indexOrCrit.join('+'), \"]\"));\n            var keyPaths = keys(indexOrCrit);\n            if (keyPaths.length === 1)\n                return this\n                    .where(keyPaths[0])\n                    .equals(indexOrCrit[keyPaths[0]]);\n            var compoundIndex = this.schema.indexes.concat(this.schema.primKey).filter(function (ix) {\n                if (ix.compound &&\n                    keyPaths.every(function (keyPath) { return ix.keyPath.indexOf(keyPath) >= 0; })) {\n                    for (var i = 0; i < keyPaths.length; ++i) {\n                        if (keyPaths.indexOf(ix.keyPath[i]) === -1)\n                            return false;\n                    }\n                    return true;\n                }\n                return false;\n            }).sort(function (a, b) { return a.keyPath.length - b.keyPath.length; })[0];\n            if (compoundIndex && this.db._maxKey !== maxString) {\n                var keyPathsInValidOrder = compoundIndex.keyPath.slice(0, keyPaths.length);\n                return this\n                    .where(keyPathsInValidOrder)\n                    .equals(keyPathsInValidOrder.map(function (kp) { return indexOrCrit[kp]; }));\n            }\n            if (!compoundIndex && debug)\n                console.warn(\"The query \".concat(JSON.stringify(indexOrCrit), \" on \").concat(this.name, \" would benefit from a \") +\n                    \"compound index [\".concat(keyPaths.join('+'), \"]\"));\n            var idxByName = this.schema.idxByName;\n            var idb = this.db._deps.indexedDB;\n            function equals(a, b) {\n                return idb.cmp(a, b) === 0;\n            }\n            var _a = keyPaths.reduce(function (_a, keyPath) {\n                var prevIndex = _a[0], prevFilterFn = _a[1];\n                var index = idxByName[keyPath];\n                var value = indexOrCrit[keyPath];\n                return [\n                    prevIndex || index,\n                    prevIndex || !index ?\n                        combine(prevFilterFn, index && index.multi ?\n                            function (x) {\n                                var prop = getByKeyPath(x, keyPath);\n                                return isArray(prop) && prop.some(function (item) { return equals(value, item); });\n                            } : function (x) { return equals(value, getByKeyPath(x, keyPath)); })\n                        : prevFilterFn\n                ];\n            }, [null, null]), idx = _a[0], filterFunction = _a[1];\n            return idx ?\n                this.where(idx.name).equals(indexOrCrit[idx.keyPath])\n                    .filter(filterFunction) :\n                compoundIndex ?\n                    this.filter(filterFunction) :\n                    this.where(keyPaths).equals('');\n        };\n        Table.prototype.filter = function (filterFunction) {\n            return this.toCollection().and(filterFunction);\n        };\n        Table.prototype.count = function (thenShortcut) {\n            return this.toCollection().count(thenShortcut);\n        };\n        Table.prototype.offset = function (offset) {\n            return this.toCollection().offset(offset);\n        };\n        Table.prototype.limit = function (numRows) {\n            return this.toCollection().limit(numRows);\n        };\n        Table.prototype.each = function (callback) {\n            return this.toCollection().each(callback);\n        };\n        Table.prototype.toArray = function (thenShortcut) {\n            return this.toCollection().toArray(thenShortcut);\n        };\n        Table.prototype.toCollection = function () {\n            return new this.db.Collection(new this.db.WhereClause(this));\n        };\n        Table.prototype.orderBy = function (index) {\n            return new this.db.Collection(new this.db.WhereClause(this, isArray(index) ?\n                \"[\".concat(index.join('+'), \"]\") :\n                index));\n        };\n        Table.prototype.reverse = function () {\n            return this.toCollection().reverse();\n        };\n        Table.prototype.mapToClass = function (constructor) {\n            var _a = this, db = _a.db, tableName = _a.name;\n            this.schema.mappedClass = constructor;\n            if (constructor.prototype instanceof Entity) {\n                constructor =  (function (_super) {\n                    __extends(class_1, _super);\n                    function class_1() {\n                        return _super !== null && _super.apply(this, arguments) || this;\n                    }\n                    Object.defineProperty(class_1.prototype, \"db\", {\n                        get: function () { return db; },\n                        enumerable: false,\n                        configurable: true\n                    });\n                    class_1.prototype.table = function () { return tableName; };\n                    return class_1;\n                }(constructor));\n            }\n            var inheritedProps = new Set();\n            for (var proto = constructor.prototype; proto; proto = getProto(proto)) {\n                Object.getOwnPropertyNames(proto).forEach(function (propName) { return inheritedProps.add(propName); });\n            }\n            var readHook = function (obj) {\n                if (!obj)\n                    return obj;\n                var res = Object.create(constructor.prototype);\n                for (var m in obj)\n                    if (!inheritedProps.has(m))\n                        try {\n                            res[m] = obj[m];\n                        }\n                        catch (_) { }\n                return res;\n            };\n            if (this.schema.readHook) {\n                this.hook.reading.unsubscribe(this.schema.readHook);\n            }\n            this.schema.readHook = readHook;\n            this.hook(\"reading\", readHook);\n            return constructor;\n        };\n        Table.prototype.defineClass = function () {\n            function Class(content) {\n                extend(this, content);\n            }\n            return this.mapToClass(Class);\n        };\n        Table.prototype.add = function (obj, key) {\n            var _this = this;\n            var _a = this.schema.primKey, auto = _a.auto, keyPath = _a.keyPath;\n            var objToAdd = obj;\n            if (keyPath && auto) {\n                objToAdd = workaroundForUndefinedPrimKey(keyPath)(obj);\n            }\n            return this._trans('readwrite', function (trans) {\n                return _this.core.mutate({ trans: trans, type: 'add', keys: key != null ? [key] : null, values: [objToAdd] });\n            }).then(function (res) { return res.numFailures ? DexiePromise.reject(res.failures[0]) : res.lastResult; })\n                .then(function (lastResult) {\n                if (keyPath) {\n                    try {\n                        setByKeyPath(obj, keyPath, lastResult);\n                    }\n                    catch (_) { }\n                }\n                return lastResult;\n            });\n        };\n        Table.prototype.update = function (keyOrObject, modifications) {\n            if (typeof keyOrObject === 'object' && !isArray(keyOrObject)) {\n                var key = getByKeyPath(keyOrObject, this.schema.primKey.keyPath);\n                if (key === undefined)\n                    return rejection(new exceptions.InvalidArgument(\"Given object does not contain its primary key\"));\n                return this.where(\":id\").equals(key).modify(modifications);\n            }\n            else {\n                return this.where(\":id\").equals(keyOrObject).modify(modifications);\n            }\n        };\n        Table.prototype.put = function (obj, key) {\n            var _this = this;\n            var _a = this.schema.primKey, auto = _a.auto, keyPath = _a.keyPath;\n            var objToAdd = obj;\n            if (keyPath && auto) {\n                objToAdd = workaroundForUndefinedPrimKey(keyPath)(obj);\n            }\n            return this._trans('readwrite', function (trans) { return _this.core.mutate({ trans: trans, type: 'put', values: [objToAdd], keys: key != null ? [key] : null }); })\n                .then(function (res) { return res.numFailures ? DexiePromise.reject(res.failures[0]) : res.lastResult; })\n                .then(function (lastResult) {\n                if (keyPath) {\n                    try {\n                        setByKeyPath(obj, keyPath, lastResult);\n                    }\n                    catch (_) { }\n                }\n                return lastResult;\n            });\n        };\n        Table.prototype.delete = function (key) {\n            var _this = this;\n            return this._trans('readwrite', function (trans) { return _this.core.mutate({ trans: trans, type: 'delete', keys: [key] }); })\n                .then(function (res) { return res.numFailures ? DexiePromise.reject(res.failures[0]) : undefined; });\n        };\n        Table.prototype.clear = function () {\n            var _this = this;\n            return this._trans('readwrite', function (trans) { return _this.core.mutate({ trans: trans, type: 'deleteRange', range: AnyRange }); })\n                .then(function (res) { return res.numFailures ? DexiePromise.reject(res.failures[0]) : undefined; });\n        };\n        Table.prototype.bulkGet = function (keys) {\n            var _this = this;\n            return this._trans('readonly', function (trans) {\n                return _this.core.getMany({\n                    keys: keys,\n                    trans: trans\n                }).then(function (result) { return result.map(function (res) { return _this.hook.reading.fire(res); }); });\n            });\n        };\n        Table.prototype.bulkAdd = function (objects, keysOrOptions, options) {\n            var _this = this;\n            var keys = Array.isArray(keysOrOptions) ? keysOrOptions : undefined;\n            options = options || (keys ? undefined : keysOrOptions);\n            var wantResults = options ? options.allKeys : undefined;\n            return this._trans('readwrite', function (trans) {\n                var _a = _this.schema.primKey, auto = _a.auto, keyPath = _a.keyPath;\n                if (keyPath && keys)\n                    throw new exceptions.InvalidArgument(\"bulkAdd(): keys argument invalid on tables with inbound keys\");\n                if (keys && keys.length !== objects.length)\n                    throw new exceptions.InvalidArgument(\"Arguments objects and keys must have the same length\");\n                var numObjects = objects.length;\n                var objectsToAdd = keyPath && auto ?\n                    objects.map(workaroundForUndefinedPrimKey(keyPath)) :\n                    objects;\n                return _this.core.mutate({ trans: trans, type: 'add', keys: keys, values: objectsToAdd, wantResults: wantResults })\n                    .then(function (_a) {\n                    var numFailures = _a.numFailures, results = _a.results, lastResult = _a.lastResult, failures = _a.failures;\n                    var result = wantResults ? results : lastResult;\n                    if (numFailures === 0)\n                        return result;\n                    throw new BulkError(\"\".concat(_this.name, \".bulkAdd(): \").concat(numFailures, \" of \").concat(numObjects, \" operations failed\"), failures);\n                });\n            });\n        };\n        Table.prototype.bulkPut = function (objects, keysOrOptions, options) {\n            var _this = this;\n            var keys = Array.isArray(keysOrOptions) ? keysOrOptions : undefined;\n            options = options || (keys ? undefined : keysOrOptions);\n            var wantResults = options ? options.allKeys : undefined;\n            return this._trans('readwrite', function (trans) {\n                var _a = _this.schema.primKey, auto = _a.auto, keyPath = _a.keyPath;\n                if (keyPath && keys)\n                    throw new exceptions.InvalidArgument(\"bulkPut(): keys argument invalid on tables with inbound keys\");\n                if (keys && keys.length !== objects.length)\n                    throw new exceptions.InvalidArgument(\"Arguments objects and keys must have the same length\");\n                var numObjects = objects.length;\n                var objectsToPut = keyPath && auto ?\n                    objects.map(workaroundForUndefinedPrimKey(keyPath)) :\n                    objects;\n                return _this.core.mutate({ trans: trans, type: 'put', keys: keys, values: objectsToPut, wantResults: wantResults })\n                    .then(function (_a) {\n                    var numFailures = _a.numFailures, results = _a.results, lastResult = _a.lastResult, failures = _a.failures;\n                    var result = wantResults ? results : lastResult;\n                    if (numFailures === 0)\n                        return result;\n                    throw new BulkError(\"\".concat(_this.name, \".bulkPut(): \").concat(numFailures, \" of \").concat(numObjects, \" operations failed\"), failures);\n                });\n            });\n        };\n        Table.prototype.bulkUpdate = function (keysAndChanges) {\n            var _this = this;\n            var coreTable = this.core;\n            var keys = keysAndChanges.map(function (entry) { return entry.key; });\n            var changeSpecs = keysAndChanges.map(function (entry) { return entry.changes; });\n            var offsetMap = [];\n            return this._trans('readwrite', function (trans) {\n                return coreTable.getMany({ trans: trans, keys: keys, cache: 'clone' }).then(function (objs) {\n                    var resultKeys = [];\n                    var resultObjs = [];\n                    keysAndChanges.forEach(function (_a, idx) {\n                        var key = _a.key, changes = _a.changes;\n                        var obj = objs[idx];\n                        if (obj) {\n                            for (var _i = 0, _b = Object.keys(changes); _i < _b.length; _i++) {\n                                var keyPath = _b[_i];\n                                var value = changes[keyPath];\n                                if (keyPath === _this.schema.primKey.keyPath) {\n                                    if (cmp(value, key) !== 0) {\n                                        throw new exceptions.Constraint(\"Cannot update primary key in bulkUpdate()\");\n                                    }\n                                }\n                                else {\n                                    setByKeyPath(obj, keyPath, value);\n                                }\n                            }\n                            offsetMap.push(idx);\n                            resultKeys.push(key);\n                            resultObjs.push(obj);\n                        }\n                    });\n                    var numEntries = resultKeys.length;\n                    return coreTable\n                        .mutate({\n                        trans: trans,\n                        type: 'put',\n                        keys: resultKeys,\n                        values: resultObjs,\n                        updates: {\n                            keys: keys,\n                            changeSpecs: changeSpecs\n                        }\n                    })\n                        .then(function (_a) {\n                        var numFailures = _a.numFailures, failures = _a.failures;\n                        if (numFailures === 0)\n                            return numEntries;\n                        for (var _i = 0, _b = Object.keys(failures); _i < _b.length; _i++) {\n                            var offset = _b[_i];\n                            var mappedOffset = offsetMap[Number(offset)];\n                            if (mappedOffset != null) {\n                                var failure = failures[offset];\n                                delete failures[offset];\n                                failures[mappedOffset] = failure;\n                            }\n                        }\n                        throw new BulkError(\"\".concat(_this.name, \".bulkUpdate(): \").concat(numFailures, \" of \").concat(numEntries, \" operations failed\"), failures);\n                    });\n                });\n            });\n        };\n        Table.prototype.bulkDelete = function (keys) {\n            var _this = this;\n            var numKeys = keys.length;\n            return this._trans('readwrite', function (trans) {\n                return _this.core.mutate({ trans: trans, type: 'delete', keys: keys });\n            }).then(function (_a) {\n                var numFailures = _a.numFailures, lastResult = _a.lastResult, failures = _a.failures;\n                if (numFailures === 0)\n                    return lastResult;\n                throw new BulkError(\"\".concat(_this.name, \".bulkDelete(): \").concat(numFailures, \" of \").concat(numKeys, \" operations failed\"), failures);\n            });\n        };\n        return Table;\n    }());\n\n    function Events(ctx) {\n        var evs = {};\n        var rv = function (eventName, subscriber) {\n            if (subscriber) {\n                var i = arguments.length, args = new Array(i - 1);\n                while (--i)\n                    args[i - 1] = arguments[i];\n                evs[eventName].subscribe.apply(null, args);\n                return ctx;\n            }\n            else if (typeof (eventName) === 'string') {\n                return evs[eventName];\n            }\n        };\n        rv.addEventType = add;\n        for (var i = 1, l = arguments.length; i < l; ++i) {\n            add(arguments[i]);\n        }\n        return rv;\n        function add(eventName, chainFunction, defaultFunction) {\n            if (typeof eventName === 'object')\n                return addConfiguredEvents(eventName);\n            if (!chainFunction)\n                chainFunction = reverseStoppableEventChain;\n            if (!defaultFunction)\n                defaultFunction = nop;\n            var context = {\n                subscribers: [],\n                fire: defaultFunction,\n                subscribe: function (cb) {\n                    if (context.subscribers.indexOf(cb) === -1) {\n                        context.subscribers.push(cb);\n                        context.fire = chainFunction(context.fire, cb);\n                    }\n                },\n                unsubscribe: function (cb) {\n                    context.subscribers = context.subscribers.filter(function (fn) { return fn !== cb; });\n                    context.fire = context.subscribers.reduce(chainFunction, defaultFunction);\n                }\n            };\n            evs[eventName] = rv[eventName] = context;\n            return context;\n        }\n        function addConfiguredEvents(cfg) {\n            keys(cfg).forEach(function (eventName) {\n                var args = cfg[eventName];\n                if (isArray(args)) {\n                    add(eventName, cfg[eventName][0], cfg[eventName][1]);\n                }\n                else if (args === 'asap') {\n                    var context = add(eventName, mirror, function fire() {\n                        var i = arguments.length, args = new Array(i);\n                        while (i--)\n                            args[i] = arguments[i];\n                        context.subscribers.forEach(function (fn) {\n                            asap$1(function fireEvent() {\n                                fn.apply(null, args);\n                            });\n                        });\n                    });\n                }\n                else\n                    throw new exceptions.InvalidArgument(\"Invalid event config\");\n            });\n        }\n    }\n\n    function makeClassConstructor(prototype, constructor) {\n        derive(constructor).from({ prototype: prototype });\n        return constructor;\n    }\n\n    function createTableConstructor(db) {\n        return makeClassConstructor(Table.prototype, function Table(name, tableSchema, trans) {\n            this.db = db;\n            this._tx = trans;\n            this.name = name;\n            this.schema = tableSchema;\n            this.hook = db._allTables[name] ? db._allTables[name].hook : Events(null, {\n                \"creating\": [hookCreatingChain, nop],\n                \"reading\": [pureFunctionChain, mirror],\n                \"updating\": [hookUpdatingChain, nop],\n                \"deleting\": [hookDeletingChain, nop]\n            });\n        });\n    }\n\n    function isPlainKeyRange(ctx, ignoreLimitFilter) {\n        return !(ctx.filter || ctx.algorithm || ctx.or) &&\n            (ignoreLimitFilter ? ctx.justLimit : !ctx.replayFilter);\n    }\n    function addFilter(ctx, fn) {\n        ctx.filter = combine(ctx.filter, fn);\n    }\n    function addReplayFilter(ctx, factory, isLimitFilter) {\n        var curr = ctx.replayFilter;\n        ctx.replayFilter = curr ? function () { return combine(curr(), factory()); } : factory;\n        ctx.justLimit = isLimitFilter && !curr;\n    }\n    function addMatchFilter(ctx, fn) {\n        ctx.isMatch = combine(ctx.isMatch, fn);\n    }\n    function getIndexOrStore(ctx, coreSchema) {\n        if (ctx.isPrimKey)\n            return coreSchema.primaryKey;\n        var index = coreSchema.getIndexByKeyPath(ctx.index);\n        if (!index)\n            throw new exceptions.Schema(\"KeyPath \" + ctx.index + \" on object store \" + coreSchema.name + \" is not indexed\");\n        return index;\n    }\n    function openCursor(ctx, coreTable, trans) {\n        var index = getIndexOrStore(ctx, coreTable.schema);\n        return coreTable.openCursor({\n            trans: trans,\n            values: !ctx.keysOnly,\n            reverse: ctx.dir === 'prev',\n            unique: !!ctx.unique,\n            query: {\n                index: index,\n                range: ctx.range\n            }\n        });\n    }\n    function iter(ctx, fn, coreTrans, coreTable) {\n        var filter = ctx.replayFilter ? combine(ctx.filter, ctx.replayFilter()) : ctx.filter;\n        if (!ctx.or) {\n            return iterate(openCursor(ctx, coreTable, coreTrans), combine(ctx.algorithm, filter), fn, !ctx.keysOnly && ctx.valueMapper);\n        }\n        else {\n            var set_1 = {};\n            var union = function (item, cursor, advance) {\n                if (!filter || filter(cursor, advance, function (result) { return cursor.stop(result); }, function (err) { return cursor.fail(err); })) {\n                    var primaryKey = cursor.primaryKey;\n                    var key = '' + primaryKey;\n                    if (key === '[object ArrayBuffer]')\n                        key = '' + new Uint8Array(primaryKey);\n                    if (!hasOwn(set_1, key)) {\n                        set_1[key] = true;\n                        fn(item, cursor, advance);\n                    }\n                }\n            };\n            return Promise.all([\n                ctx.or._iterate(union, coreTrans),\n                iterate(openCursor(ctx, coreTable, coreTrans), ctx.algorithm, union, !ctx.keysOnly && ctx.valueMapper)\n            ]);\n        }\n    }\n    function iterate(cursorPromise, filter, fn, valueMapper) {\n        var mappedFn = valueMapper ? function (x, c, a) { return fn(valueMapper(x), c, a); } : fn;\n        var wrappedFn = wrap(mappedFn);\n        return cursorPromise.then(function (cursor) {\n            if (cursor) {\n                return cursor.start(function () {\n                    var c = function () { return cursor.continue(); };\n                    if (!filter || filter(cursor, function (advancer) { return c = advancer; }, function (val) { cursor.stop(val); c = nop; }, function (e) { cursor.fail(e); c = nop; }))\n                        wrappedFn(cursor.value, cursor, function (advancer) { return c = advancer; });\n                    c();\n                });\n            }\n        });\n    }\n\n    var PropModSymbol = Symbol();\n    var PropModification =  (function () {\n        function PropModification(spec) {\n            Object.assign(this, spec);\n        }\n        PropModification.prototype.execute = function (value) {\n            var _a;\n            if (this.add !== undefined) {\n                var term = this.add;\n                if (isArray(term)) {\n                    return __spreadArray(__spreadArray([], (isArray(value) ? value : []), true), term, true).sort();\n                }\n                if (typeof term === 'number')\n                    return (Number(value) || 0) + term;\n                if (typeof term === 'bigint') {\n                    try {\n                        return BigInt(value) + term;\n                    }\n                    catch (_b) {\n                        return BigInt(0) + term;\n                    }\n                }\n                throw new TypeError(\"Invalid term \".concat(term));\n            }\n            if (this.remove !== undefined) {\n                var subtrahend_1 = this.remove;\n                if (isArray(subtrahend_1)) {\n                    return isArray(value) ? value.filter(function (item) { return !subtrahend_1.includes(item); }).sort() : [];\n                }\n                if (typeof subtrahend_1 === 'number')\n                    return Number(value) - subtrahend_1;\n                if (typeof subtrahend_1 === 'bigint') {\n                    try {\n                        return BigInt(value) - subtrahend_1;\n                    }\n                    catch (_c) {\n                        return BigInt(0) - subtrahend_1;\n                    }\n                }\n                throw new TypeError(\"Invalid subtrahend \".concat(subtrahend_1));\n            }\n            var prefixToReplace = (_a = this.replacePrefix) === null || _a === void 0 ? void 0 : _a[0];\n            if (prefixToReplace && typeof value === 'string' && value.startsWith(prefixToReplace)) {\n                return this.replacePrefix[1] + value.substring(prefixToReplace.length);\n            }\n            return value;\n        };\n        return PropModification;\n    }());\n\n    var Collection =  (function () {\n        function Collection() {\n        }\n        Collection.prototype._read = function (fn, cb) {\n            var ctx = this._ctx;\n            return ctx.error ?\n                ctx.table._trans(null, rejection.bind(null, ctx.error)) :\n                ctx.table._trans('readonly', fn).then(cb);\n        };\n        Collection.prototype._write = function (fn) {\n            var ctx = this._ctx;\n            return ctx.error ?\n                ctx.table._trans(null, rejection.bind(null, ctx.error)) :\n                ctx.table._trans('readwrite', fn, \"locked\");\n        };\n        Collection.prototype._addAlgorithm = function (fn) {\n            var ctx = this._ctx;\n            ctx.algorithm = combine(ctx.algorithm, fn);\n        };\n        Collection.prototype._iterate = function (fn, coreTrans) {\n            return iter(this._ctx, fn, coreTrans, this._ctx.table.core);\n        };\n        Collection.prototype.clone = function (props) {\n            var rv = Object.create(this.constructor.prototype), ctx = Object.create(this._ctx);\n            if (props)\n                extend(ctx, props);\n            rv._ctx = ctx;\n            return rv;\n        };\n        Collection.prototype.raw = function () {\n            this._ctx.valueMapper = null;\n            return this;\n        };\n        Collection.prototype.each = function (fn) {\n            var ctx = this._ctx;\n            return this._read(function (trans) { return iter(ctx, fn, trans, ctx.table.core); });\n        };\n        Collection.prototype.count = function (cb) {\n            var _this = this;\n            return this._read(function (trans) {\n                var ctx = _this._ctx;\n                var coreTable = ctx.table.core;\n                if (isPlainKeyRange(ctx, true)) {\n                    return coreTable.count({\n                        trans: trans,\n                        query: {\n                            index: getIndexOrStore(ctx, coreTable.schema),\n                            range: ctx.range\n                        }\n                    }).then(function (count) { return Math.min(count, ctx.limit); });\n                }\n                else {\n                    var count = 0;\n                    return iter(ctx, function () { ++count; return false; }, trans, coreTable)\n                        .then(function () { return count; });\n                }\n            }).then(cb);\n        };\n        Collection.prototype.sortBy = function (keyPath, cb) {\n            var parts = keyPath.split('.').reverse(), lastPart = parts[0], lastIndex = parts.length - 1;\n            function getval(obj, i) {\n                if (i)\n                    return getval(obj[parts[i]], i - 1);\n                return obj[lastPart];\n            }\n            var order = this._ctx.dir === \"next\" ? 1 : -1;\n            function sorter(a, b) {\n                var aVal = getval(a, lastIndex), bVal = getval(b, lastIndex);\n                return aVal < bVal ? -order : aVal > bVal ? order : 0;\n            }\n            return this.toArray(function (a) {\n                return a.sort(sorter);\n            }).then(cb);\n        };\n        Collection.prototype.toArray = function (cb) {\n            var _this = this;\n            return this._read(function (trans) {\n                var ctx = _this._ctx;\n                if (ctx.dir === 'next' && isPlainKeyRange(ctx, true) && ctx.limit > 0) {\n                    var valueMapper_1 = ctx.valueMapper;\n                    var index = getIndexOrStore(ctx, ctx.table.core.schema);\n                    return ctx.table.core.query({\n                        trans: trans,\n                        limit: ctx.limit,\n                        values: true,\n                        query: {\n                            index: index,\n                            range: ctx.range\n                        }\n                    }).then(function (_a) {\n                        var result = _a.result;\n                        return valueMapper_1 ? result.map(valueMapper_1) : result;\n                    });\n                }\n                else {\n                    var a_1 = [];\n                    return iter(ctx, function (item) { return a_1.push(item); }, trans, ctx.table.core).then(function () { return a_1; });\n                }\n            }, cb);\n        };\n        Collection.prototype.offset = function (offset) {\n            var ctx = this._ctx;\n            if (offset <= 0)\n                return this;\n            ctx.offset += offset;\n            if (isPlainKeyRange(ctx)) {\n                addReplayFilter(ctx, function () {\n                    var offsetLeft = offset;\n                    return function (cursor, advance) {\n                        if (offsetLeft === 0)\n                            return true;\n                        if (offsetLeft === 1) {\n                            --offsetLeft;\n                            return false;\n                        }\n                        advance(function () {\n                            cursor.advance(offsetLeft);\n                            offsetLeft = 0;\n                        });\n                        return false;\n                    };\n                });\n            }\n            else {\n                addReplayFilter(ctx, function () {\n                    var offsetLeft = offset;\n                    return function () { return (--offsetLeft < 0); };\n                });\n            }\n            return this;\n        };\n        Collection.prototype.limit = function (numRows) {\n            this._ctx.limit = Math.min(this._ctx.limit, numRows);\n            addReplayFilter(this._ctx, function () {\n                var rowsLeft = numRows;\n                return function (cursor, advance, resolve) {\n                    if (--rowsLeft <= 0)\n                        advance(resolve);\n                    return rowsLeft >= 0;\n                };\n            }, true);\n            return this;\n        };\n        Collection.prototype.until = function (filterFunction, bIncludeStopEntry) {\n            addFilter(this._ctx, function (cursor, advance, resolve) {\n                if (filterFunction(cursor.value)) {\n                    advance(resolve);\n                    return bIncludeStopEntry;\n                }\n                else {\n                    return true;\n                }\n            });\n            return this;\n        };\n        Collection.prototype.first = function (cb) {\n            return this.limit(1).toArray(function (a) { return a[0]; }).then(cb);\n        };\n        Collection.prototype.last = function (cb) {\n            return this.reverse().first(cb);\n        };\n        Collection.prototype.filter = function (filterFunction) {\n            addFilter(this._ctx, function (cursor) {\n                return filterFunction(cursor.value);\n            });\n            addMatchFilter(this._ctx, filterFunction);\n            return this;\n        };\n        Collection.prototype.and = function (filter) {\n            return this.filter(filter);\n        };\n        Collection.prototype.or = function (indexName) {\n            return new this.db.WhereClause(this._ctx.table, indexName, this);\n        };\n        Collection.prototype.reverse = function () {\n            this._ctx.dir = (this._ctx.dir === \"prev\" ? \"next\" : \"prev\");\n            if (this._ondirectionchange)\n                this._ondirectionchange(this._ctx.dir);\n            return this;\n        };\n        Collection.prototype.desc = function () {\n            return this.reverse();\n        };\n        Collection.prototype.eachKey = function (cb) {\n            var ctx = this._ctx;\n            ctx.keysOnly = !ctx.isMatch;\n            return this.each(function (val, cursor) { cb(cursor.key, cursor); });\n        };\n        Collection.prototype.eachUniqueKey = function (cb) {\n            this._ctx.unique = \"unique\";\n            return this.eachKey(cb);\n        };\n        Collection.prototype.eachPrimaryKey = function (cb) {\n            var ctx = this._ctx;\n            ctx.keysOnly = !ctx.isMatch;\n            return this.each(function (val, cursor) { cb(cursor.primaryKey, cursor); });\n        };\n        Collection.prototype.keys = function (cb) {\n            var ctx = this._ctx;\n            ctx.keysOnly = !ctx.isMatch;\n            var a = [];\n            return this.each(function (item, cursor) {\n                a.push(cursor.key);\n            }).then(function () {\n                return a;\n            }).then(cb);\n        };\n        Collection.prototype.primaryKeys = function (cb) {\n            var ctx = this._ctx;\n            if (ctx.dir === 'next' && isPlainKeyRange(ctx, true) && ctx.limit > 0) {\n                return this._read(function (trans) {\n                    var index = getIndexOrStore(ctx, ctx.table.core.schema);\n                    return ctx.table.core.query({\n                        trans: trans,\n                        values: false,\n                        limit: ctx.limit,\n                        query: {\n                            index: index,\n                            range: ctx.range\n                        }\n                    });\n                }).then(function (_a) {\n                    var result = _a.result;\n                    return result;\n                }).then(cb);\n            }\n            ctx.keysOnly = !ctx.isMatch;\n            var a = [];\n            return this.each(function (item, cursor) {\n                a.push(cursor.primaryKey);\n            }).then(function () {\n                return a;\n            }).then(cb);\n        };\n        Collection.prototype.uniqueKeys = function (cb) {\n            this._ctx.unique = \"unique\";\n            return this.keys(cb);\n        };\n        Collection.prototype.firstKey = function (cb) {\n            return this.limit(1).keys(function (a) { return a[0]; }).then(cb);\n        };\n        Collection.prototype.lastKey = function (cb) {\n            return this.reverse().firstKey(cb);\n        };\n        Collection.prototype.distinct = function () {\n            var ctx = this._ctx, idx = ctx.index && ctx.table.schema.idxByName[ctx.index];\n            if (!idx || !idx.multi)\n                return this;\n            var set = {};\n            addFilter(this._ctx, function (cursor) {\n                var strKey = cursor.primaryKey.toString();\n                var found = hasOwn(set, strKey);\n                set[strKey] = true;\n                return !found;\n            });\n            return this;\n        };\n        Collection.prototype.modify = function (changes) {\n            var _this = this;\n            var ctx = this._ctx;\n            return this._write(function (trans) {\n                var modifyer;\n                if (typeof changes === 'function') {\n                    modifyer = changes;\n                }\n                else {\n                    var keyPaths = keys(changes);\n                    var numKeys = keyPaths.length;\n                    modifyer = function (item) {\n                        var anythingModified = false;\n                        for (var i = 0; i < numKeys; ++i) {\n                            var keyPath = keyPaths[i];\n                            var val = changes[keyPath];\n                            var origVal = getByKeyPath(item, keyPath);\n                            if (val instanceof PropModification) {\n                                setByKeyPath(item, keyPath, val.execute(origVal));\n                                anythingModified = true;\n                            }\n                            else if (origVal !== val) {\n                                setByKeyPath(item, keyPath, val);\n                                anythingModified = true;\n                            }\n                        }\n                        return anythingModified;\n                    };\n                }\n                var coreTable = ctx.table.core;\n                var _a = coreTable.schema.primaryKey, outbound = _a.outbound, extractKey = _a.extractKey;\n                var limit = _this.db._options.modifyChunkSize || 200;\n                var totalFailures = [];\n                var successCount = 0;\n                var failedKeys = [];\n                var applyMutateResult = function (expectedCount, res) {\n                    var failures = res.failures, numFailures = res.numFailures;\n                    successCount += expectedCount - numFailures;\n                    for (var _i = 0, _a = keys(failures); _i < _a.length; _i++) {\n                        var pos = _a[_i];\n                        totalFailures.push(failures[pos]);\n                    }\n                };\n                return _this.clone().primaryKeys().then(function (keys) {\n                    var criteria = isPlainKeyRange(ctx) &&\n                        ctx.limit === Infinity &&\n                        (typeof changes !== 'function' || changes === deleteCallback) && {\n                        index: ctx.index,\n                        range: ctx.range\n                    };\n                    var nextChunk = function (offset) {\n                        var count = Math.min(limit, keys.length - offset);\n                        return coreTable.getMany({\n                            trans: trans,\n                            keys: keys.slice(offset, offset + count),\n                            cache: \"immutable\"\n                        }).then(function (values) {\n                            var addValues = [];\n                            var putValues = [];\n                            var putKeys = outbound ? [] : null;\n                            var deleteKeys = [];\n                            for (var i = 0; i < count; ++i) {\n                                var origValue = values[i];\n                                var ctx_1 = {\n                                    value: deepClone(origValue),\n                                    primKey: keys[offset + i]\n                                };\n                                if (modifyer.call(ctx_1, ctx_1.value, ctx_1) !== false) {\n                                    if (ctx_1.value == null) {\n                                        deleteKeys.push(keys[offset + i]);\n                                    }\n                                    else if (!outbound && cmp(extractKey(origValue), extractKey(ctx_1.value)) !== 0) {\n                                        deleteKeys.push(keys[offset + i]);\n                                        addValues.push(ctx_1.value);\n                                    }\n                                    else {\n                                        putValues.push(ctx_1.value);\n                                        if (outbound)\n                                            putKeys.push(keys[offset + i]);\n                                    }\n                                }\n                            }\n                            return Promise.resolve(addValues.length > 0 &&\n                                coreTable.mutate({ trans: trans, type: 'add', values: addValues })\n                                    .then(function (res) {\n                                    for (var pos in res.failures) {\n                                        deleteKeys.splice(parseInt(pos), 1);\n                                    }\n                                    applyMutateResult(addValues.length, res);\n                                })).then(function () { return (putValues.length > 0 || (criteria && typeof changes === 'object')) &&\n                                coreTable.mutate({\n                                    trans: trans,\n                                    type: 'put',\n                                    keys: putKeys,\n                                    values: putValues,\n                                    criteria: criteria,\n                                    changeSpec: typeof changes !== 'function'\n                                        && changes,\n                                    isAdditionalChunk: offset > 0\n                                }).then(function (res) { return applyMutateResult(putValues.length, res); }); }).then(function () { return (deleteKeys.length > 0 || (criteria && changes === deleteCallback)) &&\n                                coreTable.mutate({\n                                    trans: trans,\n                                    type: 'delete',\n                                    keys: deleteKeys,\n                                    criteria: criteria,\n                                    isAdditionalChunk: offset > 0\n                                }).then(function (res) { return applyMutateResult(deleteKeys.length, res); }); }).then(function () {\n                                return keys.length > offset + count && nextChunk(offset + limit);\n                            });\n                        });\n                    };\n                    return nextChunk(0).then(function () {\n                        if (totalFailures.length > 0)\n                            throw new ModifyError(\"Error modifying one or more objects\", totalFailures, successCount, failedKeys);\n                        return keys.length;\n                    });\n                });\n            });\n        };\n        Collection.prototype.delete = function () {\n            var ctx = this._ctx, range = ctx.range;\n            if (isPlainKeyRange(ctx) &&\n                (ctx.isPrimKey || range.type === 3 ))\n             {\n                return this._write(function (trans) {\n                    var primaryKey = ctx.table.core.schema.primaryKey;\n                    var coreRange = range;\n                    return ctx.table.core.count({ trans: trans, query: { index: primaryKey, range: coreRange } }).then(function (count) {\n                        return ctx.table.core.mutate({ trans: trans, type: 'deleteRange', range: coreRange })\n                            .then(function (_a) {\n                            var failures = _a.failures; _a.lastResult; _a.results; var numFailures = _a.numFailures;\n                            if (numFailures)\n                                throw new ModifyError(\"Could not delete some values\", Object.keys(failures).map(function (pos) { return failures[pos]; }), count - numFailures);\n                            return count - numFailures;\n                        });\n                    });\n                });\n            }\n            return this.modify(deleteCallback);\n        };\n        return Collection;\n    }());\n    var deleteCallback = function (value, ctx) { return ctx.value = null; };\n\n    function createCollectionConstructor(db) {\n        return makeClassConstructor(Collection.prototype, function Collection(whereClause, keyRangeGenerator) {\n            this.db = db;\n            var keyRange = AnyRange, error = null;\n            if (keyRangeGenerator)\n                try {\n                    keyRange = keyRangeGenerator();\n                }\n                catch (ex) {\n                    error = ex;\n                }\n            var whereCtx = whereClause._ctx;\n            var table = whereCtx.table;\n            var readingHook = table.hook.reading.fire;\n            this._ctx = {\n                table: table,\n                index: whereCtx.index,\n                isPrimKey: (!whereCtx.index || (table.schema.primKey.keyPath && whereCtx.index === table.schema.primKey.name)),\n                range: keyRange,\n                keysOnly: false,\n                dir: \"next\",\n                unique: \"\",\n                algorithm: null,\n                filter: null,\n                replayFilter: null,\n                justLimit: true,\n                isMatch: null,\n                offset: 0,\n                limit: Infinity,\n                error: error,\n                or: whereCtx.or,\n                valueMapper: readingHook !== mirror ? readingHook : null\n            };\n        });\n    }\n\n    function simpleCompare(a, b) {\n        return a < b ? -1 : a === b ? 0 : 1;\n    }\n    function simpleCompareReverse(a, b) {\n        return a > b ? -1 : a === b ? 0 : 1;\n    }\n\n    function fail(collectionOrWhereClause, err, T) {\n        var collection = collectionOrWhereClause instanceof WhereClause ?\n            new collectionOrWhereClause.Collection(collectionOrWhereClause) :\n            collectionOrWhereClause;\n        collection._ctx.error = T ? new T(err) : new TypeError(err);\n        return collection;\n    }\n    function emptyCollection(whereClause) {\n        return new whereClause.Collection(whereClause, function () { return rangeEqual(\"\"); }).limit(0);\n    }\n    function upperFactory(dir) {\n        return dir === \"next\" ?\n            function (s) { return s.toUpperCase(); } :\n            function (s) { return s.toLowerCase(); };\n    }\n    function lowerFactory(dir) {\n        return dir === \"next\" ?\n            function (s) { return s.toLowerCase(); } :\n            function (s) { return s.toUpperCase(); };\n    }\n    function nextCasing(key, lowerKey, upperNeedle, lowerNeedle, cmp, dir) {\n        var length = Math.min(key.length, lowerNeedle.length);\n        var llp = -1;\n        for (var i = 0; i < length; ++i) {\n            var lwrKeyChar = lowerKey[i];\n            if (lwrKeyChar !== lowerNeedle[i]) {\n                if (cmp(key[i], upperNeedle[i]) < 0)\n                    return key.substr(0, i) + upperNeedle[i] + upperNeedle.substr(i + 1);\n                if (cmp(key[i], lowerNeedle[i]) < 0)\n                    return key.substr(0, i) + lowerNeedle[i] + upperNeedle.substr(i + 1);\n                if (llp >= 0)\n                    return key.substr(0, llp) + lowerKey[llp] + upperNeedle.substr(llp + 1);\n                return null;\n            }\n            if (cmp(key[i], lwrKeyChar) < 0)\n                llp = i;\n        }\n        if (length < lowerNeedle.length && dir === \"next\")\n            return key + upperNeedle.substr(key.length);\n        if (length < key.length && dir === \"prev\")\n            return key.substr(0, upperNeedle.length);\n        return (llp < 0 ? null : key.substr(0, llp) + lowerNeedle[llp] + upperNeedle.substr(llp + 1));\n    }\n    function addIgnoreCaseAlgorithm(whereClause, match, needles, suffix) {\n        var upper, lower, compare, upperNeedles, lowerNeedles, direction, nextKeySuffix, needlesLen = needles.length;\n        if (!needles.every(function (s) { return typeof s === 'string'; })) {\n            return fail(whereClause, STRING_EXPECTED);\n        }\n        function initDirection(dir) {\n            upper = upperFactory(dir);\n            lower = lowerFactory(dir);\n            compare = (dir === \"next\" ? simpleCompare : simpleCompareReverse);\n            var needleBounds = needles.map(function (needle) {\n                return { lower: lower(needle), upper: upper(needle) };\n            }).sort(function (a, b) {\n                return compare(a.lower, b.lower);\n            });\n            upperNeedles = needleBounds.map(function (nb) { return nb.upper; });\n            lowerNeedles = needleBounds.map(function (nb) { return nb.lower; });\n            direction = dir;\n            nextKeySuffix = (dir === \"next\" ? \"\" : suffix);\n        }\n        initDirection(\"next\");\n        var c = new whereClause.Collection(whereClause, function () { return createRange(upperNeedles[0], lowerNeedles[needlesLen - 1] + suffix); });\n        c._ondirectionchange = function (direction) {\n            initDirection(direction);\n        };\n        var firstPossibleNeedle = 0;\n        c._addAlgorithm(function (cursor, advance, resolve) {\n            var key = cursor.key;\n            if (typeof key !== 'string')\n                return false;\n            var lowerKey = lower(key);\n            if (match(lowerKey, lowerNeedles, firstPossibleNeedle)) {\n                return true;\n            }\n            else {\n                var lowestPossibleCasing = null;\n                for (var i = firstPossibleNeedle; i < needlesLen; ++i) {\n                    var casing = nextCasing(key, lowerKey, upperNeedles[i], lowerNeedles[i], compare, direction);\n                    if (casing === null && lowestPossibleCasing === null)\n                        firstPossibleNeedle = i + 1;\n                    else if (lowestPossibleCasing === null || compare(lowestPossibleCasing, casing) > 0) {\n                        lowestPossibleCasing = casing;\n                    }\n                }\n                if (lowestPossibleCasing !== null) {\n                    advance(function () { cursor.continue(lowestPossibleCasing + nextKeySuffix); });\n                }\n                else {\n                    advance(resolve);\n                }\n                return false;\n            }\n        });\n        return c;\n    }\n    function createRange(lower, upper, lowerOpen, upperOpen) {\n        return {\n            type: 2 ,\n            lower: lower,\n            upper: upper,\n            lowerOpen: lowerOpen,\n            upperOpen: upperOpen\n        };\n    }\n    function rangeEqual(value) {\n        return {\n            type: 1 ,\n            lower: value,\n            upper: value\n        };\n    }\n\n    var WhereClause =  (function () {\n        function WhereClause() {\n        }\n        Object.defineProperty(WhereClause.prototype, \"Collection\", {\n            get: function () {\n                return this._ctx.table.db.Collection;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        WhereClause.prototype.between = function (lower, upper, includeLower, includeUpper) {\n            includeLower = includeLower !== false;\n            includeUpper = includeUpper === true;\n            try {\n                if ((this._cmp(lower, upper) > 0) ||\n                    (this._cmp(lower, upper) === 0 && (includeLower || includeUpper) && !(includeLower && includeUpper)))\n                    return emptyCollection(this);\n                return new this.Collection(this, function () { return createRange(lower, upper, !includeLower, !includeUpper); });\n            }\n            catch (e) {\n                return fail(this, INVALID_KEY_ARGUMENT);\n            }\n        };\n        WhereClause.prototype.equals = function (value) {\n            if (value == null)\n                return fail(this, INVALID_KEY_ARGUMENT);\n            return new this.Collection(this, function () { return rangeEqual(value); });\n        };\n        WhereClause.prototype.above = function (value) {\n            if (value == null)\n                return fail(this, INVALID_KEY_ARGUMENT);\n            return new this.Collection(this, function () { return createRange(value, undefined, true); });\n        };\n        WhereClause.prototype.aboveOrEqual = function (value) {\n            if (value == null)\n                return fail(this, INVALID_KEY_ARGUMENT);\n            return new this.Collection(this, function () { return createRange(value, undefined, false); });\n        };\n        WhereClause.prototype.below = function (value) {\n            if (value == null)\n                return fail(this, INVALID_KEY_ARGUMENT);\n            return new this.Collection(this, function () { return createRange(undefined, value, false, true); });\n        };\n        WhereClause.prototype.belowOrEqual = function (value) {\n            if (value == null)\n                return fail(this, INVALID_KEY_ARGUMENT);\n            return new this.Collection(this, function () { return createRange(undefined, value); });\n        };\n        WhereClause.prototype.startsWith = function (str) {\n            if (typeof str !== 'string')\n                return fail(this, STRING_EXPECTED);\n            return this.between(str, str + maxString, true, true);\n        };\n        WhereClause.prototype.startsWithIgnoreCase = function (str) {\n            if (str === \"\")\n                return this.startsWith(str);\n            return addIgnoreCaseAlgorithm(this, function (x, a) { return x.indexOf(a[0]) === 0; }, [str], maxString);\n        };\n        WhereClause.prototype.equalsIgnoreCase = function (str) {\n            return addIgnoreCaseAlgorithm(this, function (x, a) { return x === a[0]; }, [str], \"\");\n        };\n        WhereClause.prototype.anyOfIgnoreCase = function () {\n            var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);\n            if (set.length === 0)\n                return emptyCollection(this);\n            return addIgnoreCaseAlgorithm(this, function (x, a) { return a.indexOf(x) !== -1; }, set, \"\");\n        };\n        WhereClause.prototype.startsWithAnyOfIgnoreCase = function () {\n            var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);\n            if (set.length === 0)\n                return emptyCollection(this);\n            return addIgnoreCaseAlgorithm(this, function (x, a) { return a.some(function (n) { return x.indexOf(n) === 0; }); }, set, maxString);\n        };\n        WhereClause.prototype.anyOf = function () {\n            var _this = this;\n            var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);\n            var compare = this._cmp;\n            try {\n                set.sort(compare);\n            }\n            catch (e) {\n                return fail(this, INVALID_KEY_ARGUMENT);\n            }\n            if (set.length === 0)\n                return emptyCollection(this);\n            var c = new this.Collection(this, function () { return createRange(set[0], set[set.length - 1]); });\n            c._ondirectionchange = function (direction) {\n                compare = (direction === \"next\" ?\n                    _this._ascending :\n                    _this._descending);\n                set.sort(compare);\n            };\n            var i = 0;\n            c._addAlgorithm(function (cursor, advance, resolve) {\n                var key = cursor.key;\n                while (compare(key, set[i]) > 0) {\n                    ++i;\n                    if (i === set.length) {\n                        advance(resolve);\n                        return false;\n                    }\n                }\n                if (compare(key, set[i]) === 0) {\n                    return true;\n                }\n                else {\n                    advance(function () { cursor.continue(set[i]); });\n                    return false;\n                }\n            });\n            return c;\n        };\n        WhereClause.prototype.notEqual = function (value) {\n            return this.inAnyRange([[minKey, value], [value, this.db._maxKey]], { includeLowers: false, includeUppers: false });\n        };\n        WhereClause.prototype.noneOf = function () {\n            var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);\n            if (set.length === 0)\n                return new this.Collection(this);\n            try {\n                set.sort(this._ascending);\n            }\n            catch (e) {\n                return fail(this, INVALID_KEY_ARGUMENT);\n            }\n            var ranges = set.reduce(function (res, val) { return res ?\n                res.concat([[res[res.length - 1][1], val]]) :\n                [[minKey, val]]; }, null);\n            ranges.push([set[set.length - 1], this.db._maxKey]);\n            return this.inAnyRange(ranges, { includeLowers: false, includeUppers: false });\n        };\n        WhereClause.prototype.inAnyRange = function (ranges, options) {\n            var _this = this;\n            var cmp = this._cmp, ascending = this._ascending, descending = this._descending, min = this._min, max = this._max;\n            if (ranges.length === 0)\n                return emptyCollection(this);\n            if (!ranges.every(function (range) {\n                return range[0] !== undefined &&\n                    range[1] !== undefined &&\n                    ascending(range[0], range[1]) <= 0;\n            })) {\n                return fail(this, \"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower\", exceptions.InvalidArgument);\n            }\n            var includeLowers = !options || options.includeLowers !== false;\n            var includeUppers = options && options.includeUppers === true;\n            function addRange(ranges, newRange) {\n                var i = 0, l = ranges.length;\n                for (; i < l; ++i) {\n                    var range = ranges[i];\n                    if (cmp(newRange[0], range[1]) < 0 && cmp(newRange[1], range[0]) > 0) {\n                        range[0] = min(range[0], newRange[0]);\n                        range[1] = max(range[1], newRange[1]);\n                        break;\n                    }\n                }\n                if (i === l)\n                    ranges.push(newRange);\n                return ranges;\n            }\n            var sortDirection = ascending;\n            function rangeSorter(a, b) { return sortDirection(a[0], b[0]); }\n            var set;\n            try {\n                set = ranges.reduce(addRange, []);\n                set.sort(rangeSorter);\n            }\n            catch (ex) {\n                return fail(this, INVALID_KEY_ARGUMENT);\n            }\n            var rangePos = 0;\n            var keyIsBeyondCurrentEntry = includeUppers ?\n                function (key) { return ascending(key, set[rangePos][1]) > 0; } :\n                function (key) { return ascending(key, set[rangePos][1]) >= 0; };\n            var keyIsBeforeCurrentEntry = includeLowers ?\n                function (key) { return descending(key, set[rangePos][0]) > 0; } :\n                function (key) { return descending(key, set[rangePos][0]) >= 0; };\n            function keyWithinCurrentRange(key) {\n                return !keyIsBeyondCurrentEntry(key) && !keyIsBeforeCurrentEntry(key);\n            }\n            var checkKey = keyIsBeyondCurrentEntry;\n            var c = new this.Collection(this, function () { return createRange(set[0][0], set[set.length - 1][1], !includeLowers, !includeUppers); });\n            c._ondirectionchange = function (direction) {\n                if (direction === \"next\") {\n                    checkKey = keyIsBeyondCurrentEntry;\n                    sortDirection = ascending;\n                }\n                else {\n                    checkKey = keyIsBeforeCurrentEntry;\n                    sortDirection = descending;\n                }\n                set.sort(rangeSorter);\n            };\n            c._addAlgorithm(function (cursor, advance, resolve) {\n                var key = cursor.key;\n                while (checkKey(key)) {\n                    ++rangePos;\n                    if (rangePos === set.length) {\n                        advance(resolve);\n                        return false;\n                    }\n                }\n                if (keyWithinCurrentRange(key)) {\n                    return true;\n                }\n                else if (_this._cmp(key, set[rangePos][1]) === 0 || _this._cmp(key, set[rangePos][0]) === 0) {\n                    return false;\n                }\n                else {\n                    advance(function () {\n                        if (sortDirection === ascending)\n                            cursor.continue(set[rangePos][0]);\n                        else\n                            cursor.continue(set[rangePos][1]);\n                    });\n                    return false;\n                }\n            });\n            return c;\n        };\n        WhereClause.prototype.startsWithAnyOf = function () {\n            var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);\n            if (!set.every(function (s) { return typeof s === 'string'; })) {\n                return fail(this, \"startsWithAnyOf() only works with strings\");\n            }\n            if (set.length === 0)\n                return emptyCollection(this);\n            return this.inAnyRange(set.map(function (str) { return [str, str + maxString]; }));\n        };\n        return WhereClause;\n    }());\n\n    function createWhereClauseConstructor(db) {\n        return makeClassConstructor(WhereClause.prototype, function WhereClause(table, index, orCollection) {\n            this.db = db;\n            this._ctx = {\n                table: table,\n                index: index === \":id\" ? null : index,\n                or: orCollection\n            };\n            this._cmp = this._ascending = cmp;\n            this._descending = function (a, b) { return cmp(b, a); };\n            this._max = function (a, b) { return cmp(a, b) > 0 ? a : b; };\n            this._min = function (a, b) { return cmp(a, b) < 0 ? a : b; };\n            this._IDBKeyRange = db._deps.IDBKeyRange;\n            if (!this._IDBKeyRange)\n                throw new exceptions.MissingAPI();\n        });\n    }\n\n    function eventRejectHandler(reject) {\n        return wrap(function (event) {\n            preventDefault(event);\n            reject(event.target.error);\n            return false;\n        });\n    }\n    function preventDefault(event) {\n        if (event.stopPropagation)\n            event.stopPropagation();\n        if (event.preventDefault)\n            event.preventDefault();\n    }\n\n    var DEXIE_STORAGE_MUTATED_EVENT_NAME = 'storagemutated';\n    var STORAGE_MUTATED_DOM_EVENT_NAME = 'x-storagemutated-1';\n    var globalEvents = Events(null, DEXIE_STORAGE_MUTATED_EVENT_NAME);\n\n    var Transaction =  (function () {\n        function Transaction() {\n        }\n        Transaction.prototype._lock = function () {\n            assert(!PSD.global);\n            ++this._reculock;\n            if (this._reculock === 1 && !PSD.global)\n                PSD.lockOwnerFor = this;\n            return this;\n        };\n        Transaction.prototype._unlock = function () {\n            assert(!PSD.global);\n            if (--this._reculock === 0) {\n                if (!PSD.global)\n                    PSD.lockOwnerFor = null;\n                while (this._blockedFuncs.length > 0 && !this._locked()) {\n                    var fnAndPSD = this._blockedFuncs.shift();\n                    try {\n                        usePSD(fnAndPSD[1], fnAndPSD[0]);\n                    }\n                    catch (e) { }\n                }\n            }\n            return this;\n        };\n        Transaction.prototype._locked = function () {\n            return this._reculock && PSD.lockOwnerFor !== this;\n        };\n        Transaction.prototype.create = function (idbtrans) {\n            var _this = this;\n            if (!this.mode)\n                return this;\n            var idbdb = this.db.idbdb;\n            var dbOpenError = this.db._state.dbOpenError;\n            assert(!this.idbtrans);\n            if (!idbtrans && !idbdb) {\n                switch (dbOpenError && dbOpenError.name) {\n                    case \"DatabaseClosedError\":\n                        throw new exceptions.DatabaseClosed(dbOpenError);\n                    case \"MissingAPIError\":\n                        throw new exceptions.MissingAPI(dbOpenError.message, dbOpenError);\n                    default:\n                        throw new exceptions.OpenFailed(dbOpenError);\n                }\n            }\n            if (!this.active)\n                throw new exceptions.TransactionInactive();\n            assert(this._completion._state === null);\n            idbtrans = this.idbtrans = idbtrans ||\n                (this.db.core\n                    ? this.db.core.transaction(this.storeNames, this.mode, { durability: this.chromeTransactionDurability })\n                    : idbdb.transaction(this.storeNames, this.mode, { durability: this.chromeTransactionDurability }));\n            idbtrans.onerror = wrap(function (ev) {\n                preventDefault(ev);\n                _this._reject(idbtrans.error);\n            });\n            idbtrans.onabort = wrap(function (ev) {\n                preventDefault(ev);\n                _this.active && _this._reject(new exceptions.Abort(idbtrans.error));\n                _this.active = false;\n                _this.on(\"abort\").fire(ev);\n            });\n            idbtrans.oncomplete = wrap(function () {\n                _this.active = false;\n                _this._resolve();\n                if ('mutatedParts' in idbtrans) {\n                    globalEvents.storagemutated.fire(idbtrans[\"mutatedParts\"]);\n                }\n            });\n            return this;\n        };\n        Transaction.prototype._promise = function (mode, fn, bWriteLock) {\n            var _this = this;\n            if (mode === 'readwrite' && this.mode !== 'readwrite')\n                return rejection(new exceptions.ReadOnly(\"Transaction is readonly\"));\n            if (!this.active)\n                return rejection(new exceptions.TransactionInactive());\n            if (this._locked()) {\n                return new DexiePromise(function (resolve, reject) {\n                    _this._blockedFuncs.push([function () {\n                            _this._promise(mode, fn, bWriteLock).then(resolve, reject);\n                        }, PSD]);\n                });\n            }\n            else if (bWriteLock) {\n                return newScope(function () {\n                    var p = new DexiePromise(function (resolve, reject) {\n                        _this._lock();\n                        var rv = fn(resolve, reject, _this);\n                        if (rv && rv.then)\n                            rv.then(resolve, reject);\n                    });\n                    p.finally(function () { return _this._unlock(); });\n                    p._lib = true;\n                    return p;\n                });\n            }\n            else {\n                var p = new DexiePromise(function (resolve, reject) {\n                    var rv = fn(resolve, reject, _this);\n                    if (rv && rv.then)\n                        rv.then(resolve, reject);\n                });\n                p._lib = true;\n                return p;\n            }\n        };\n        Transaction.prototype._root = function () {\n            return this.parent ? this.parent._root() : this;\n        };\n        Transaction.prototype.waitFor = function (promiseLike) {\n            var root = this._root();\n            var promise = DexiePromise.resolve(promiseLike);\n            if (root._waitingFor) {\n                root._waitingFor = root._waitingFor.then(function () { return promise; });\n            }\n            else {\n                root._waitingFor = promise;\n                root._waitingQueue = [];\n                var store = root.idbtrans.objectStore(root.storeNames[0]);\n                (function spin() {\n                    ++root._spinCount;\n                    while (root._waitingQueue.length)\n                        (root._waitingQueue.shift())();\n                    if (root._waitingFor)\n                        store.get(-Infinity).onsuccess = spin;\n                }());\n            }\n            var currentWaitPromise = root._waitingFor;\n            return new DexiePromise(function (resolve, reject) {\n                promise.then(function (res) { return root._waitingQueue.push(wrap(resolve.bind(null, res))); }, function (err) { return root._waitingQueue.push(wrap(reject.bind(null, err))); }).finally(function () {\n                    if (root._waitingFor === currentWaitPromise) {\n                        root._waitingFor = null;\n                    }\n                });\n            });\n        };\n        Transaction.prototype.abort = function () {\n            if (this.active) {\n                this.active = false;\n                if (this.idbtrans)\n                    this.idbtrans.abort();\n                this._reject(new exceptions.Abort());\n            }\n        };\n        Transaction.prototype.table = function (tableName) {\n            var memoizedTables = (this._memoizedTables || (this._memoizedTables = {}));\n            if (hasOwn(memoizedTables, tableName))\n                return memoizedTables[tableName];\n            var tableSchema = this.schema[tableName];\n            if (!tableSchema) {\n                throw new exceptions.NotFound(\"Table \" + tableName + \" not part of transaction\");\n            }\n            var transactionBoundTable = new this.db.Table(tableName, tableSchema, this);\n            transactionBoundTable.core = this.db.core.table(tableName);\n            memoizedTables[tableName] = transactionBoundTable;\n            return transactionBoundTable;\n        };\n        return Transaction;\n    }());\n\n    function createTransactionConstructor(db) {\n        return makeClassConstructor(Transaction.prototype, function Transaction(mode, storeNames, dbschema, chromeTransactionDurability, parent) {\n            var _this = this;\n            this.db = db;\n            this.mode = mode;\n            this.storeNames = storeNames;\n            this.schema = dbschema;\n            this.chromeTransactionDurability = chromeTransactionDurability;\n            this.idbtrans = null;\n            this.on = Events(this, \"complete\", \"error\", \"abort\");\n            this.parent = parent || null;\n            this.active = true;\n            this._reculock = 0;\n            this._blockedFuncs = [];\n            this._resolve = null;\n            this._reject = null;\n            this._waitingFor = null;\n            this._waitingQueue = null;\n            this._spinCount = 0;\n            this._completion = new DexiePromise(function (resolve, reject) {\n                _this._resolve = resolve;\n                _this._reject = reject;\n            });\n            this._completion.then(function () {\n                _this.active = false;\n                _this.on.complete.fire();\n            }, function (e) {\n                var wasActive = _this.active;\n                _this.active = false;\n                _this.on.error.fire(e);\n                _this.parent ?\n                    _this.parent._reject(e) :\n                    wasActive && _this.idbtrans && _this.idbtrans.abort();\n                return rejection(e);\n            });\n        });\n    }\n\n    function createIndexSpec(name, keyPath, unique, multi, auto, compound, isPrimKey) {\n        return {\n            name: name,\n            keyPath: keyPath,\n            unique: unique,\n            multi: multi,\n            auto: auto,\n            compound: compound,\n            src: (unique && !isPrimKey ? '&' : '') + (multi ? '*' : '') + (auto ? \"++\" : \"\") + nameFromKeyPath(keyPath)\n        };\n    }\n    function nameFromKeyPath(keyPath) {\n        return typeof keyPath === 'string' ?\n            keyPath :\n            keyPath ? ('[' + [].join.call(keyPath, '+') + ']') : \"\";\n    }\n\n    function createTableSchema(name, primKey, indexes) {\n        return {\n            name: name,\n            primKey: primKey,\n            indexes: indexes,\n            mappedClass: null,\n            idxByName: arrayToObject(indexes, function (index) { return [index.name, index]; })\n        };\n    }\n\n    function safariMultiStoreFix(storeNames) {\n        return storeNames.length === 1 ? storeNames[0] : storeNames;\n    }\n    var getMaxKey = function (IdbKeyRange) {\n        try {\n            IdbKeyRange.only([[]]);\n            getMaxKey = function () { return [[]]; };\n            return [[]];\n        }\n        catch (e) {\n            getMaxKey = function () { return maxString; };\n            return maxString;\n        }\n    };\n\n    function getKeyExtractor(keyPath) {\n        if (keyPath == null) {\n            return function () { return undefined; };\n        }\n        else if (typeof keyPath === 'string') {\n            return getSinglePathKeyExtractor(keyPath);\n        }\n        else {\n            return function (obj) { return getByKeyPath(obj, keyPath); };\n        }\n    }\n    function getSinglePathKeyExtractor(keyPath) {\n        var split = keyPath.split('.');\n        if (split.length === 1) {\n            return function (obj) { return obj[keyPath]; };\n        }\n        else {\n            return function (obj) { return getByKeyPath(obj, keyPath); };\n        }\n    }\n\n    function arrayify(arrayLike) {\n        return [].slice.call(arrayLike);\n    }\n    var _id_counter = 0;\n    function getKeyPathAlias(keyPath) {\n        return keyPath == null ?\n            \":id\" :\n            typeof keyPath === 'string' ?\n                keyPath :\n                \"[\".concat(keyPath.join('+'), \"]\");\n    }\n    function createDBCore(db, IdbKeyRange, tmpTrans) {\n        function extractSchema(db, trans) {\n            var tables = arrayify(db.objectStoreNames);\n            return {\n                schema: {\n                    name: db.name,\n                    tables: tables.map(function (table) { return trans.objectStore(table); }).map(function (store) {\n                        var keyPath = store.keyPath, autoIncrement = store.autoIncrement;\n                        var compound = isArray(keyPath);\n                        var outbound = keyPath == null;\n                        var indexByKeyPath = {};\n                        var result = {\n                            name: store.name,\n                            primaryKey: {\n                                name: null,\n                                isPrimaryKey: true,\n                                outbound: outbound,\n                                compound: compound,\n                                keyPath: keyPath,\n                                autoIncrement: autoIncrement,\n                                unique: true,\n                                extractKey: getKeyExtractor(keyPath)\n                            },\n                            indexes: arrayify(store.indexNames).map(function (indexName) { return store.index(indexName); })\n                                .map(function (index) {\n                                var name = index.name, unique = index.unique, multiEntry = index.multiEntry, keyPath = index.keyPath;\n                                var compound = isArray(keyPath);\n                                var result = {\n                                    name: name,\n                                    compound: compound,\n                                    keyPath: keyPath,\n                                    unique: unique,\n                                    multiEntry: multiEntry,\n                                    extractKey: getKeyExtractor(keyPath)\n                                };\n                                indexByKeyPath[getKeyPathAlias(keyPath)] = result;\n                                return result;\n                            }),\n                            getIndexByKeyPath: function (keyPath) { return indexByKeyPath[getKeyPathAlias(keyPath)]; }\n                        };\n                        indexByKeyPath[\":id\"] = result.primaryKey;\n                        if (keyPath != null) {\n                            indexByKeyPath[getKeyPathAlias(keyPath)] = result.primaryKey;\n                        }\n                        return result;\n                    })\n                },\n                hasGetAll: tables.length > 0 && ('getAll' in trans.objectStore(tables[0])) &&\n                    !(typeof navigator !== 'undefined' && /Safari/.test(navigator.userAgent) &&\n                        !/(Chrome\\/|Edge\\/)/.test(navigator.userAgent) &&\n                        [].concat(navigator.userAgent.match(/Safari\\/(\\d*)/))[1] < 604)\n            };\n        }\n        function makeIDBKeyRange(range) {\n            if (range.type === 3 )\n                return null;\n            if (range.type === 4 )\n                throw new Error(\"Cannot convert never type to IDBKeyRange\");\n            var lower = range.lower, upper = range.upper, lowerOpen = range.lowerOpen, upperOpen = range.upperOpen;\n            var idbRange = lower === undefined ?\n                upper === undefined ?\n                    null :\n                    IdbKeyRange.upperBound(upper, !!upperOpen) :\n                upper === undefined ?\n                    IdbKeyRange.lowerBound(lower, !!lowerOpen) :\n                    IdbKeyRange.bound(lower, upper, !!lowerOpen, !!upperOpen);\n            return idbRange;\n        }\n        function createDbCoreTable(tableSchema) {\n            var tableName = tableSchema.name;\n            function mutate(_a) {\n                var trans = _a.trans, type = _a.type, keys = _a.keys, values = _a.values, range = _a.range;\n                return new Promise(function (resolve, reject) {\n                    resolve = wrap(resolve);\n                    var store = trans.objectStore(tableName);\n                    var outbound = store.keyPath == null;\n                    var isAddOrPut = type === \"put\" || type === \"add\";\n                    if (!isAddOrPut && type !== 'delete' && type !== 'deleteRange')\n                        throw new Error(\"Invalid operation type: \" + type);\n                    var length = (keys || values || { length: 1 }).length;\n                    if (keys && values && keys.length !== values.length) {\n                        throw new Error(\"Given keys array must have same length as given values array.\");\n                    }\n                    if (length === 0)\n                        return resolve({ numFailures: 0, failures: {}, results: [], lastResult: undefined });\n                    var req;\n                    var reqs = [];\n                    var failures = [];\n                    var numFailures = 0;\n                    var errorHandler = function (event) {\n                        ++numFailures;\n                        preventDefault(event);\n                    };\n                    if (type === 'deleteRange') {\n                        if (range.type === 4 )\n                            return resolve({ numFailures: numFailures, failures: failures, results: [], lastResult: undefined });\n                        if (range.type === 3 )\n                            reqs.push(req = store.clear());\n                        else\n                            reqs.push(req = store.delete(makeIDBKeyRange(range)));\n                    }\n                    else {\n                        var _a = isAddOrPut ?\n                            outbound ?\n                                [values, keys] :\n                                [values, null] :\n                            [keys, null], args1 = _a[0], args2 = _a[1];\n                        if (isAddOrPut) {\n                            for (var i = 0; i < length; ++i) {\n                                reqs.push(req = (args2 && args2[i] !== undefined ?\n                                    store[type](args1[i], args2[i]) :\n                                    store[type](args1[i])));\n                                req.onerror = errorHandler;\n                            }\n                        }\n                        else {\n                            for (var i = 0; i < length; ++i) {\n                                reqs.push(req = store[type](args1[i]));\n                                req.onerror = errorHandler;\n                            }\n                        }\n                    }\n                    var done = function (event) {\n                        var lastResult = event.target.result;\n                        reqs.forEach(function (req, i) { return req.error != null && (failures[i] = req.error); });\n                        resolve({\n                            numFailures: numFailures,\n                            failures: failures,\n                            results: type === \"delete\" ? keys : reqs.map(function (req) { return req.result; }),\n                            lastResult: lastResult\n                        });\n                    };\n                    req.onerror = function (event) {\n                        errorHandler(event);\n                        done(event);\n                    };\n                    req.onsuccess = done;\n                });\n            }\n            function openCursor(_a) {\n                var trans = _a.trans, values = _a.values, query = _a.query, reverse = _a.reverse, unique = _a.unique;\n                return new Promise(function (resolve, reject) {\n                    resolve = wrap(resolve);\n                    var index = query.index, range = query.range;\n                    var store = trans.objectStore(tableName);\n                    var source = index.isPrimaryKey ?\n                        store :\n                        store.index(index.name);\n                    var direction = reverse ?\n                        unique ?\n                            \"prevunique\" :\n                            \"prev\" :\n                        unique ?\n                            \"nextunique\" :\n                            \"next\";\n                    var req = values || !('openKeyCursor' in source) ?\n                        source.openCursor(makeIDBKeyRange(range), direction) :\n                        source.openKeyCursor(makeIDBKeyRange(range), direction);\n                    req.onerror = eventRejectHandler(reject);\n                    req.onsuccess = wrap(function (ev) {\n                        var cursor = req.result;\n                        if (!cursor) {\n                            resolve(null);\n                            return;\n                        }\n                        cursor.___id = ++_id_counter;\n                        cursor.done = false;\n                        var _cursorContinue = cursor.continue.bind(cursor);\n                        var _cursorContinuePrimaryKey = cursor.continuePrimaryKey;\n                        if (_cursorContinuePrimaryKey)\n                            _cursorContinuePrimaryKey = _cursorContinuePrimaryKey.bind(cursor);\n                        var _cursorAdvance = cursor.advance.bind(cursor);\n                        var doThrowCursorIsNotStarted = function () { throw new Error(\"Cursor not started\"); };\n                        var doThrowCursorIsStopped = function () { throw new Error(\"Cursor not stopped\"); };\n                        cursor.trans = trans;\n                        cursor.stop = cursor.continue = cursor.continuePrimaryKey = cursor.advance = doThrowCursorIsNotStarted;\n                        cursor.fail = wrap(reject);\n                        cursor.next = function () {\n                            var _this = this;\n                            var gotOne = 1;\n                            return this.start(function () { return gotOne-- ? _this.continue() : _this.stop(); }).then(function () { return _this; });\n                        };\n                        cursor.start = function (callback) {\n                            var iterationPromise = new Promise(function (resolveIteration, rejectIteration) {\n                                resolveIteration = wrap(resolveIteration);\n                                req.onerror = eventRejectHandler(rejectIteration);\n                                cursor.fail = rejectIteration;\n                                cursor.stop = function (value) {\n                                    cursor.stop = cursor.continue = cursor.continuePrimaryKey = cursor.advance = doThrowCursorIsStopped;\n                                    resolveIteration(value);\n                                };\n                            });\n                            var guardedCallback = function () {\n                                if (req.result) {\n                                    try {\n                                        callback();\n                                    }\n                                    catch (err) {\n                                        cursor.fail(err);\n                                    }\n                                }\n                                else {\n                                    cursor.done = true;\n                                    cursor.start = function () { throw new Error(\"Cursor behind last entry\"); };\n                                    cursor.stop();\n                                }\n                            };\n                            req.onsuccess = wrap(function (ev) {\n                                req.onsuccess = guardedCallback;\n                                guardedCallback();\n                            });\n                            cursor.continue = _cursorContinue;\n                            cursor.continuePrimaryKey = _cursorContinuePrimaryKey;\n                            cursor.advance = _cursorAdvance;\n                            guardedCallback();\n                            return iterationPromise;\n                        };\n                        resolve(cursor);\n                    }, reject);\n                });\n            }\n            function query(hasGetAll) {\n                return function (request) {\n                    return new Promise(function (resolve, reject) {\n                        resolve = wrap(resolve);\n                        var trans = request.trans, values = request.values, limit = request.limit, query = request.query;\n                        var nonInfinitLimit = limit === Infinity ? undefined : limit;\n                        var index = query.index, range = query.range;\n                        var store = trans.objectStore(tableName);\n                        var source = index.isPrimaryKey ? store : store.index(index.name);\n                        var idbKeyRange = makeIDBKeyRange(range);\n                        if (limit === 0)\n                            return resolve({ result: [] });\n                        if (hasGetAll) {\n                            var req = values ?\n                                source.getAll(idbKeyRange, nonInfinitLimit) :\n                                source.getAllKeys(idbKeyRange, nonInfinitLimit);\n                            req.onsuccess = function (event) { return resolve({ result: event.target.result }); };\n                            req.onerror = eventRejectHandler(reject);\n                        }\n                        else {\n                            var count_1 = 0;\n                            var req_1 = values || !('openKeyCursor' in source) ?\n                                source.openCursor(idbKeyRange) :\n                                source.openKeyCursor(idbKeyRange);\n                            var result_1 = [];\n                            req_1.onsuccess = function (event) {\n                                var cursor = req_1.result;\n                                if (!cursor)\n                                    return resolve({ result: result_1 });\n                                result_1.push(values ? cursor.value : cursor.primaryKey);\n                                if (++count_1 === limit)\n                                    return resolve({ result: result_1 });\n                                cursor.continue();\n                            };\n                            req_1.onerror = eventRejectHandler(reject);\n                        }\n                    });\n                };\n            }\n            return {\n                name: tableName,\n                schema: tableSchema,\n                mutate: mutate,\n                getMany: function (_a) {\n                    var trans = _a.trans, keys = _a.keys;\n                    return new Promise(function (resolve, reject) {\n                        resolve = wrap(resolve);\n                        var store = trans.objectStore(tableName);\n                        var length = keys.length;\n                        var result = new Array(length);\n                        var keyCount = 0;\n                        var callbackCount = 0;\n                        var req;\n                        var successHandler = function (event) {\n                            var req = event.target;\n                            if ((result[req._pos] = req.result) != null)\n                                ;\n                            if (++callbackCount === keyCount)\n                                resolve(result);\n                        };\n                        var errorHandler = eventRejectHandler(reject);\n                        for (var i = 0; i < length; ++i) {\n                            var key = keys[i];\n                            if (key != null) {\n                                req = store.get(keys[i]);\n                                req._pos = i;\n                                req.onsuccess = successHandler;\n                                req.onerror = errorHandler;\n                                ++keyCount;\n                            }\n                        }\n                        if (keyCount === 0)\n                            resolve(result);\n                    });\n                },\n                get: function (_a) {\n                    var trans = _a.trans, key = _a.key;\n                    return new Promise(function (resolve, reject) {\n                        resolve = wrap(resolve);\n                        var store = trans.objectStore(tableName);\n                        var req = store.get(key);\n                        req.onsuccess = function (event) { return resolve(event.target.result); };\n                        req.onerror = eventRejectHandler(reject);\n                    });\n                },\n                query: query(hasGetAll),\n                openCursor: openCursor,\n                count: function (_a) {\n                    var query = _a.query, trans = _a.trans;\n                    var index = query.index, range = query.range;\n                    return new Promise(function (resolve, reject) {\n                        var store = trans.objectStore(tableName);\n                        var source = index.isPrimaryKey ? store : store.index(index.name);\n                        var idbKeyRange = makeIDBKeyRange(range);\n                        var req = idbKeyRange ? source.count(idbKeyRange) : source.count();\n                        req.onsuccess = wrap(function (ev) { return resolve(ev.target.result); });\n                        req.onerror = eventRejectHandler(reject);\n                    });\n                }\n            };\n        }\n        var _a = extractSchema(db, tmpTrans), schema = _a.schema, hasGetAll = _a.hasGetAll;\n        var tables = schema.tables.map(function (tableSchema) { return createDbCoreTable(tableSchema); });\n        var tableMap = {};\n        tables.forEach(function (table) { return tableMap[table.name] = table; });\n        return {\n            stack: \"dbcore\",\n            transaction: db.transaction.bind(db),\n            table: function (name) {\n                var result = tableMap[name];\n                if (!result)\n                    throw new Error(\"Table '\".concat(name, \"' not found\"));\n                return tableMap[name];\n            },\n            MIN_KEY: -Infinity,\n            MAX_KEY: getMaxKey(IdbKeyRange),\n            schema: schema\n        };\n    }\n\n    function createMiddlewareStack(stackImpl, middlewares) {\n        return middlewares.reduce(function (down, _a) {\n            var create = _a.create;\n            return (__assign(__assign({}, down), create(down)));\n        }, stackImpl);\n    }\n    function createMiddlewareStacks(middlewares, idbdb, _a, tmpTrans) {\n        var IDBKeyRange = _a.IDBKeyRange; _a.indexedDB;\n        var dbcore = createMiddlewareStack(createDBCore(idbdb, IDBKeyRange, tmpTrans), middlewares.dbcore);\n        return {\n            dbcore: dbcore\n        };\n    }\n    function generateMiddlewareStacks(db, tmpTrans) {\n        var idbdb = tmpTrans.db;\n        var stacks = createMiddlewareStacks(db._middlewares, idbdb, db._deps, tmpTrans);\n        db.core = stacks.dbcore;\n        db.tables.forEach(function (table) {\n            var tableName = table.name;\n            if (db.core.schema.tables.some(function (tbl) { return tbl.name === tableName; })) {\n                table.core = db.core.table(tableName);\n                if (db[tableName] instanceof db.Table) {\n                    db[tableName].core = table.core;\n                }\n            }\n        });\n    }\n\n    function setApiOnPlace(db, objs, tableNames, dbschema) {\n        tableNames.forEach(function (tableName) {\n            var schema = dbschema[tableName];\n            objs.forEach(function (obj) {\n                var propDesc = getPropertyDescriptor(obj, tableName);\n                if (!propDesc || (\"value\" in propDesc && propDesc.value === undefined)) {\n                    if (obj === db.Transaction.prototype || obj instanceof db.Transaction) {\n                        setProp(obj, tableName, {\n                            get: function () { return this.table(tableName); },\n                            set: function (value) {\n                                defineProperty(this, tableName, { value: value, writable: true, configurable: true, enumerable: true });\n                            }\n                        });\n                    }\n                    else {\n                        obj[tableName] = new db.Table(tableName, schema);\n                    }\n                }\n            });\n        });\n    }\n    function removeTablesApi(db, objs) {\n        objs.forEach(function (obj) {\n            for (var key in obj) {\n                if (obj[key] instanceof db.Table)\n                    delete obj[key];\n            }\n        });\n    }\n    function lowerVersionFirst(a, b) {\n        return a._cfg.version - b._cfg.version;\n    }\n    function runUpgraders(db, oldVersion, idbUpgradeTrans, reject) {\n        var globalSchema = db._dbSchema;\n        if (idbUpgradeTrans.objectStoreNames.contains('$meta') && !globalSchema.$meta) {\n            globalSchema.$meta = createTableSchema(\"$meta\", parseIndexSyntax(\"\")[0], []);\n            db._storeNames.push('$meta');\n        }\n        var trans = db._createTransaction('readwrite', db._storeNames, globalSchema);\n        trans.create(idbUpgradeTrans);\n        trans._completion.catch(reject);\n        var rejectTransaction = trans._reject.bind(trans);\n        var transless = PSD.transless || PSD;\n        newScope(function () {\n            PSD.trans = trans;\n            PSD.transless = transless;\n            if (oldVersion === 0) {\n                keys(globalSchema).forEach(function (tableName) {\n                    createTable(idbUpgradeTrans, tableName, globalSchema[tableName].primKey, globalSchema[tableName].indexes);\n                });\n                generateMiddlewareStacks(db, idbUpgradeTrans);\n                DexiePromise.follow(function () { return db.on.populate.fire(trans); }).catch(rejectTransaction);\n            }\n            else {\n                generateMiddlewareStacks(db, idbUpgradeTrans);\n                return getExistingVersion(db, trans, oldVersion)\n                    .then(function (oldVersion) { return updateTablesAndIndexes(db, oldVersion, trans, idbUpgradeTrans); })\n                    .catch(rejectTransaction);\n            }\n        });\n    }\n    function patchCurrentVersion(db, idbUpgradeTrans) {\n        createMissingTables(db._dbSchema, idbUpgradeTrans);\n        if (idbUpgradeTrans.db.version % 10 === 0 && !idbUpgradeTrans.objectStoreNames.contains('$meta')) {\n            idbUpgradeTrans.db.createObjectStore('$meta').add(Math.ceil((idbUpgradeTrans.db.version / 10) - 1), 'version');\n        }\n        var globalSchema = buildGlobalSchema(db, db.idbdb, idbUpgradeTrans);\n        adjustToExistingIndexNames(db, db._dbSchema, idbUpgradeTrans);\n        var diff = getSchemaDiff(globalSchema, db._dbSchema);\n        var _loop_1 = function (tableChange) {\n            if (tableChange.change.length || tableChange.recreate) {\n                console.warn(\"Unable to patch indexes of table \".concat(tableChange.name, \" because it has changes on the type of index or primary key.\"));\n                return { value: void 0 };\n            }\n            var store = idbUpgradeTrans.objectStore(tableChange.name);\n            tableChange.add.forEach(function (idx) {\n                if (debug)\n                    console.debug(\"Dexie upgrade patch: Creating missing index \".concat(tableChange.name, \".\").concat(idx.src));\n                addIndex(store, idx);\n            });\n        };\n        for (var _i = 0, _a = diff.change; _i < _a.length; _i++) {\n            var tableChange = _a[_i];\n            var state_1 = _loop_1(tableChange);\n            if (typeof state_1 === \"object\")\n                return state_1.value;\n        }\n    }\n    function getExistingVersion(db, trans, oldVersion) {\n        if (trans.storeNames.includes('$meta')) {\n            return trans.table('$meta').get('version').then(function (metaVersion) {\n                return metaVersion != null ? metaVersion : oldVersion;\n            });\n        }\n        else {\n            return DexiePromise.resolve(oldVersion);\n        }\n    }\n    function updateTablesAndIndexes(db, oldVersion, trans, idbUpgradeTrans) {\n        var queue = [];\n        var versions = db._versions;\n        var globalSchema = db._dbSchema = buildGlobalSchema(db, db.idbdb, idbUpgradeTrans);\n        var versToRun = versions.filter(function (v) { return v._cfg.version >= oldVersion; });\n        if (versToRun.length === 0) {\n            return DexiePromise.resolve();\n        }\n        versToRun.forEach(function (version) {\n            queue.push(function () {\n                var oldSchema = globalSchema;\n                var newSchema = version._cfg.dbschema;\n                adjustToExistingIndexNames(db, oldSchema, idbUpgradeTrans);\n                adjustToExistingIndexNames(db, newSchema, idbUpgradeTrans);\n                globalSchema = db._dbSchema = newSchema;\n                var diff = getSchemaDiff(oldSchema, newSchema);\n                diff.add.forEach(function (tuple) {\n                    createTable(idbUpgradeTrans, tuple[0], tuple[1].primKey, tuple[1].indexes);\n                });\n                diff.change.forEach(function (change) {\n                    if (change.recreate) {\n                        throw new exceptions.Upgrade(\"Not yet support for changing primary key\");\n                    }\n                    else {\n                        var store_1 = idbUpgradeTrans.objectStore(change.name);\n                        change.add.forEach(function (idx) { return addIndex(store_1, idx); });\n                        change.change.forEach(function (idx) {\n                            store_1.deleteIndex(idx.name);\n                            addIndex(store_1, idx);\n                        });\n                        change.del.forEach(function (idxName) { return store_1.deleteIndex(idxName); });\n                    }\n                });\n                var contentUpgrade = version._cfg.contentUpgrade;\n                if (contentUpgrade && version._cfg.version > oldVersion) {\n                    generateMiddlewareStacks(db, idbUpgradeTrans);\n                    trans._memoizedTables = {};\n                    var upgradeSchema_1 = shallowClone(newSchema);\n                    diff.del.forEach(function (table) {\n                        upgradeSchema_1[table] = oldSchema[table];\n                    });\n                    removeTablesApi(db, [db.Transaction.prototype]);\n                    setApiOnPlace(db, [db.Transaction.prototype], keys(upgradeSchema_1), upgradeSchema_1);\n                    trans.schema = upgradeSchema_1;\n                    var contentUpgradeIsAsync_1 = isAsyncFunction(contentUpgrade);\n                    if (contentUpgradeIsAsync_1) {\n                        incrementExpectedAwaits();\n                    }\n                    var returnValue_1;\n                    var promiseFollowed = DexiePromise.follow(function () {\n                        returnValue_1 = contentUpgrade(trans);\n                        if (returnValue_1) {\n                            if (contentUpgradeIsAsync_1) {\n                                var decrementor = decrementExpectedAwaits.bind(null, null);\n                                returnValue_1.then(decrementor, decrementor);\n                            }\n                        }\n                    });\n                    return (returnValue_1 && typeof returnValue_1.then === 'function' ?\n                        DexiePromise.resolve(returnValue_1) : promiseFollowed.then(function () { return returnValue_1; }));\n                }\n            });\n            queue.push(function (idbtrans) {\n                var newSchema = version._cfg.dbschema;\n                deleteRemovedTables(newSchema, idbtrans);\n                removeTablesApi(db, [db.Transaction.prototype]);\n                setApiOnPlace(db, [db.Transaction.prototype], db._storeNames, db._dbSchema);\n                trans.schema = db._dbSchema;\n            });\n            queue.push(function (idbtrans) {\n                if (db.idbdb.objectStoreNames.contains('$meta')) {\n                    if (Math.ceil(db.idbdb.version / 10) === version._cfg.version) {\n                        db.idbdb.deleteObjectStore('$meta');\n                        delete db._dbSchema.$meta;\n                        db._storeNames = db._storeNames.filter(function (name) { return name !== '$meta'; });\n                    }\n                    else {\n                        idbtrans.objectStore('$meta').put(version._cfg.version, 'version');\n                    }\n                }\n            });\n        });\n        function runQueue() {\n            return queue.length ? DexiePromise.resolve(queue.shift()(trans.idbtrans)).then(runQueue) :\n                DexiePromise.resolve();\n        }\n        return runQueue().then(function () {\n            createMissingTables(globalSchema, idbUpgradeTrans);\n        });\n    }\n    function getSchemaDiff(oldSchema, newSchema) {\n        var diff = {\n            del: [],\n            add: [],\n            change: []\n        };\n        var table;\n        for (table in oldSchema) {\n            if (!newSchema[table])\n                diff.del.push(table);\n        }\n        for (table in newSchema) {\n            var oldDef = oldSchema[table], newDef = newSchema[table];\n            if (!oldDef) {\n                diff.add.push([table, newDef]);\n            }\n            else {\n                var change = {\n                    name: table,\n                    def: newDef,\n                    recreate: false,\n                    del: [],\n                    add: [],\n                    change: []\n                };\n                if ((\n                '' + (oldDef.primKey.keyPath || '')) !== ('' + (newDef.primKey.keyPath || '')) ||\n                    (oldDef.primKey.auto !== newDef.primKey.auto)) {\n                    change.recreate = true;\n                    diff.change.push(change);\n                }\n                else {\n                    var oldIndexes = oldDef.idxByName;\n                    var newIndexes = newDef.idxByName;\n                    var idxName = void 0;\n                    for (idxName in oldIndexes) {\n                        if (!newIndexes[idxName])\n                            change.del.push(idxName);\n                    }\n                    for (idxName in newIndexes) {\n                        var oldIdx = oldIndexes[idxName], newIdx = newIndexes[idxName];\n                        if (!oldIdx)\n                            change.add.push(newIdx);\n                        else if (oldIdx.src !== newIdx.src)\n                            change.change.push(newIdx);\n                    }\n                    if (change.del.length > 0 || change.add.length > 0 || change.change.length > 0) {\n                        diff.change.push(change);\n                    }\n                }\n            }\n        }\n        return diff;\n    }\n    function createTable(idbtrans, tableName, primKey, indexes) {\n        var store = idbtrans.db.createObjectStore(tableName, primKey.keyPath ?\n            { keyPath: primKey.keyPath, autoIncrement: primKey.auto } :\n            { autoIncrement: primKey.auto });\n        indexes.forEach(function (idx) { return addIndex(store, idx); });\n        return store;\n    }\n    function createMissingTables(newSchema, idbtrans) {\n        keys(newSchema).forEach(function (tableName) {\n            if (!idbtrans.db.objectStoreNames.contains(tableName)) {\n                if (debug)\n                    console.debug('Dexie: Creating missing table', tableName);\n                createTable(idbtrans, tableName, newSchema[tableName].primKey, newSchema[tableName].indexes);\n            }\n        });\n    }\n    function deleteRemovedTables(newSchema, idbtrans) {\n        [].slice.call(idbtrans.db.objectStoreNames).forEach(function (storeName) {\n            return newSchema[storeName] == null && idbtrans.db.deleteObjectStore(storeName);\n        });\n    }\n    function addIndex(store, idx) {\n        store.createIndex(idx.name, idx.keyPath, { unique: idx.unique, multiEntry: idx.multi });\n    }\n    function buildGlobalSchema(db, idbdb, tmpTrans) {\n        var globalSchema = {};\n        var dbStoreNames = slice(idbdb.objectStoreNames, 0);\n        dbStoreNames.forEach(function (storeName) {\n            var store = tmpTrans.objectStore(storeName);\n            var keyPath = store.keyPath;\n            var primKey = createIndexSpec(nameFromKeyPath(keyPath), keyPath || \"\", true, false, !!store.autoIncrement, keyPath && typeof keyPath !== \"string\", true);\n            var indexes = [];\n            for (var j = 0; j < store.indexNames.length; ++j) {\n                var idbindex = store.index(store.indexNames[j]);\n                keyPath = idbindex.keyPath;\n                var index = createIndexSpec(idbindex.name, keyPath, !!idbindex.unique, !!idbindex.multiEntry, false, keyPath && typeof keyPath !== \"string\", false);\n                indexes.push(index);\n            }\n            globalSchema[storeName] = createTableSchema(storeName, primKey, indexes);\n        });\n        return globalSchema;\n    }\n    function readGlobalSchema(db, idbdb, tmpTrans) {\n        db.verno = idbdb.version / 10;\n        var globalSchema = db._dbSchema = buildGlobalSchema(db, idbdb, tmpTrans);\n        db._storeNames = slice(idbdb.objectStoreNames, 0);\n        setApiOnPlace(db, [db._allTables], keys(globalSchema), globalSchema);\n    }\n    function verifyInstalledSchema(db, tmpTrans) {\n        var installedSchema = buildGlobalSchema(db, db.idbdb, tmpTrans);\n        var diff = getSchemaDiff(installedSchema, db._dbSchema);\n        return !(diff.add.length || diff.change.some(function (ch) { return ch.add.length || ch.change.length; }));\n    }\n    function adjustToExistingIndexNames(db, schema, idbtrans) {\n        var storeNames = idbtrans.db.objectStoreNames;\n        for (var i = 0; i < storeNames.length; ++i) {\n            var storeName = storeNames[i];\n            var store = idbtrans.objectStore(storeName);\n            db._hasGetAll = 'getAll' in store;\n            for (var j = 0; j < store.indexNames.length; ++j) {\n                var indexName = store.indexNames[j];\n                var keyPath = store.index(indexName).keyPath;\n                var dexieName = typeof keyPath === 'string' ? keyPath : \"[\" + slice(keyPath).join('+') + \"]\";\n                if (schema[storeName]) {\n                    var indexSpec = schema[storeName].idxByName[dexieName];\n                    if (indexSpec) {\n                        indexSpec.name = indexName;\n                        delete schema[storeName].idxByName[dexieName];\n                        schema[storeName].idxByName[indexName] = indexSpec;\n                    }\n                }\n            }\n        }\n        if (typeof navigator !== 'undefined' && /Safari/.test(navigator.userAgent) &&\n            !/(Chrome\\/|Edge\\/)/.test(navigator.userAgent) &&\n            _global.WorkerGlobalScope && _global instanceof _global.WorkerGlobalScope &&\n            [].concat(navigator.userAgent.match(/Safari\\/(\\d*)/))[1] < 604) {\n            db._hasGetAll = false;\n        }\n    }\n    function parseIndexSyntax(primKeyAndIndexes) {\n        return primKeyAndIndexes.split(',').map(function (index, indexNum) {\n            index = index.trim();\n            var name = index.replace(/([&*]|\\+\\+)/g, \"\");\n            var keyPath = /^\\[/.test(name) ? name.match(/^\\[(.*)\\]$/)[1].split('+') : name;\n            return createIndexSpec(name, keyPath || null, /\\&/.test(index), /\\*/.test(index), /\\+\\+/.test(index), isArray(keyPath), indexNum === 0);\n        });\n    }\n\n    var Version =  (function () {\n        function Version() {\n        }\n        Version.prototype._parseStoresSpec = function (stores, outSchema) {\n            keys(stores).forEach(function (tableName) {\n                if (stores[tableName] !== null) {\n                    var indexes = parseIndexSyntax(stores[tableName]);\n                    var primKey = indexes.shift();\n                    primKey.unique = true;\n                    if (primKey.multi)\n                        throw new exceptions.Schema(\"Primary key cannot be multi-valued\");\n                    indexes.forEach(function (idx) {\n                        if (idx.auto)\n                            throw new exceptions.Schema(\"Only primary key can be marked as autoIncrement (++)\");\n                        if (!idx.keyPath)\n                            throw new exceptions.Schema(\"Index must have a name and cannot be an empty string\");\n                    });\n                    outSchema[tableName] = createTableSchema(tableName, primKey, indexes);\n                }\n            });\n        };\n        Version.prototype.stores = function (stores) {\n            var db = this.db;\n            this._cfg.storesSource = this._cfg.storesSource ?\n                extend(this._cfg.storesSource, stores) :\n                stores;\n            var versions = db._versions;\n            var storesSpec = {};\n            var dbschema = {};\n            versions.forEach(function (version) {\n                extend(storesSpec, version._cfg.storesSource);\n                dbschema = (version._cfg.dbschema = {});\n                version._parseStoresSpec(storesSpec, dbschema);\n            });\n            db._dbSchema = dbschema;\n            removeTablesApi(db, [db._allTables, db, db.Transaction.prototype]);\n            setApiOnPlace(db, [db._allTables, db, db.Transaction.prototype, this._cfg.tables], keys(dbschema), dbschema);\n            db._storeNames = keys(dbschema);\n            return this;\n        };\n        Version.prototype.upgrade = function (upgradeFunction) {\n            this._cfg.contentUpgrade = promisableChain(this._cfg.contentUpgrade || nop, upgradeFunction);\n            return this;\n        };\n        return Version;\n    }());\n\n    function createVersionConstructor(db) {\n        return makeClassConstructor(Version.prototype, function Version(versionNumber) {\n            this.db = db;\n            this._cfg = {\n                version: versionNumber,\n                storesSource: null,\n                dbschema: {},\n                tables: {},\n                contentUpgrade: null\n            };\n        });\n    }\n\n    function getDbNamesTable(indexedDB, IDBKeyRange) {\n        var dbNamesDB = indexedDB[\"_dbNamesDB\"];\n        if (!dbNamesDB) {\n            dbNamesDB = indexedDB[\"_dbNamesDB\"] = new Dexie$1(DBNAMES_DB, {\n                addons: [],\n                indexedDB: indexedDB,\n                IDBKeyRange: IDBKeyRange,\n            });\n            dbNamesDB.version(1).stores({ dbnames: \"name\" });\n        }\n        return dbNamesDB.table(\"dbnames\");\n    }\n    function hasDatabasesNative(indexedDB) {\n        return indexedDB && typeof indexedDB.databases === \"function\";\n    }\n    function getDatabaseNames(_a) {\n        var indexedDB = _a.indexedDB, IDBKeyRange = _a.IDBKeyRange;\n        return hasDatabasesNative(indexedDB)\n            ? Promise.resolve(indexedDB.databases()).then(function (infos) {\n                return infos\n                    .map(function (info) { return info.name; })\n                    .filter(function (name) { return name !== DBNAMES_DB; });\n            })\n            : getDbNamesTable(indexedDB, IDBKeyRange).toCollection().primaryKeys();\n    }\n    function _onDatabaseCreated(_a, name) {\n        var indexedDB = _a.indexedDB, IDBKeyRange = _a.IDBKeyRange;\n        !hasDatabasesNative(indexedDB) &&\n            name !== DBNAMES_DB &&\n            getDbNamesTable(indexedDB, IDBKeyRange).put({ name: name }).catch(nop);\n    }\n    function _onDatabaseDeleted(_a, name) {\n        var indexedDB = _a.indexedDB, IDBKeyRange = _a.IDBKeyRange;\n        !hasDatabasesNative(indexedDB) &&\n            name !== DBNAMES_DB &&\n            getDbNamesTable(indexedDB, IDBKeyRange).delete(name).catch(nop);\n    }\n\n    function vip(fn) {\n        return newScope(function () {\n            PSD.letThrough = true;\n            return fn();\n        });\n    }\n\n    function idbReady() {\n        var isSafari = !navigator.userAgentData &&\n            /Safari\\//.test(navigator.userAgent) &&\n            !/Chrom(e|ium)\\//.test(navigator.userAgent);\n        if (!isSafari || !indexedDB.databases)\n            return Promise.resolve();\n        var intervalId;\n        return new Promise(function (resolve) {\n            var tryIdb = function () { return indexedDB.databases().finally(resolve); };\n            intervalId = setInterval(tryIdb, 100);\n            tryIdb();\n        }).finally(function () { return clearInterval(intervalId); });\n    }\n\n    var _a;\n    function isEmptyRange(node) {\n        return !(\"from\" in node);\n    }\n    var RangeSet = function (fromOrTree, to) {\n        if (this) {\n            extend(this, arguments.length ? { d: 1, from: fromOrTree, to: arguments.length > 1 ? to : fromOrTree } : { d: 0 });\n        }\n        else {\n            var rv = new RangeSet();\n            if (fromOrTree && (\"d\" in fromOrTree)) {\n                extend(rv, fromOrTree);\n            }\n            return rv;\n        }\n    };\n    props(RangeSet.prototype, (_a = {\n            add: function (rangeSet) {\n                mergeRanges(this, rangeSet);\n                return this;\n            },\n            addKey: function (key) {\n                addRange(this, key, key);\n                return this;\n            },\n            addKeys: function (keys) {\n                var _this = this;\n                keys.forEach(function (key) { return addRange(_this, key, key); });\n                return this;\n            },\n            hasKey: function (key) {\n                var node = getRangeSetIterator(this).next(key).value;\n                return node && cmp(node.from, key) <= 0 && cmp(node.to, key) >= 0;\n            }\n        },\n        _a[iteratorSymbol] = function () {\n            return getRangeSetIterator(this);\n        },\n        _a));\n    function addRange(target, from, to) {\n        var diff = cmp(from, to);\n        if (isNaN(diff))\n            return;\n        if (diff > 0)\n            throw RangeError();\n        if (isEmptyRange(target))\n            return extend(target, { from: from, to: to, d: 1 });\n        var left = target.l;\n        var right = target.r;\n        if (cmp(to, target.from) < 0) {\n            left\n                ? addRange(left, from, to)\n                : (target.l = { from: from, to: to, d: 1, l: null, r: null });\n            return rebalance(target);\n        }\n        if (cmp(from, target.to) > 0) {\n            right\n                ? addRange(right, from, to)\n                : (target.r = { from: from, to: to, d: 1, l: null, r: null });\n            return rebalance(target);\n        }\n        if (cmp(from, target.from) < 0) {\n            target.from = from;\n            target.l = null;\n            target.d = right ? right.d + 1 : 1;\n        }\n        if (cmp(to, target.to) > 0) {\n            target.to = to;\n            target.r = null;\n            target.d = target.l ? target.l.d + 1 : 1;\n        }\n        var rightWasCutOff = !target.r;\n        if (left && !target.l) {\n            mergeRanges(target, left);\n        }\n        if (right && rightWasCutOff) {\n            mergeRanges(target, right);\n        }\n    }\n    function mergeRanges(target, newSet) {\n        function _addRangeSet(target, _a) {\n            var from = _a.from, to = _a.to, l = _a.l, r = _a.r;\n            addRange(target, from, to);\n            if (l)\n                _addRangeSet(target, l);\n            if (r)\n                _addRangeSet(target, r);\n        }\n        if (!isEmptyRange(newSet))\n            _addRangeSet(target, newSet);\n    }\n    function rangesOverlap(rangeSet1, rangeSet2) {\n        var i1 = getRangeSetIterator(rangeSet2);\n        var nextResult1 = i1.next();\n        if (nextResult1.done)\n            return false;\n        var a = nextResult1.value;\n        var i2 = getRangeSetIterator(rangeSet1);\n        var nextResult2 = i2.next(a.from);\n        var b = nextResult2.value;\n        while (!nextResult1.done && !nextResult2.done) {\n            if (cmp(b.from, a.to) <= 0 && cmp(b.to, a.from) >= 0)\n                return true;\n            cmp(a.from, b.from) < 0\n                ? (a = (nextResult1 = i1.next(b.from)).value)\n                : (b = (nextResult2 = i2.next(a.from)).value);\n        }\n        return false;\n    }\n    function getRangeSetIterator(node) {\n        var state = isEmptyRange(node) ? null : { s: 0, n: node };\n        return {\n            next: function (key) {\n                var keyProvided = arguments.length > 0;\n                while (state) {\n                    switch (state.s) {\n                        case 0:\n                            state.s = 1;\n                            if (keyProvided) {\n                                while (state.n.l && cmp(key, state.n.from) < 0)\n                                    state = { up: state, n: state.n.l, s: 1 };\n                            }\n                            else {\n                                while (state.n.l)\n                                    state = { up: state, n: state.n.l, s: 1 };\n                            }\n                        case 1:\n                            state.s = 2;\n                            if (!keyProvided || cmp(key, state.n.to) <= 0)\n                                return { value: state.n, done: false };\n                        case 2:\n                            if (state.n.r) {\n                                state.s = 3;\n                                state = { up: state, n: state.n.r, s: 0 };\n                                continue;\n                            }\n                        case 3:\n                            state = state.up;\n                    }\n                }\n                return { done: true };\n            },\n        };\n    }\n    function rebalance(target) {\n        var _a, _b;\n        var diff = (((_a = target.r) === null || _a === void 0 ? void 0 : _a.d) || 0) - (((_b = target.l) === null || _b === void 0 ? void 0 : _b.d) || 0);\n        var r = diff > 1 ? \"r\" : diff < -1 ? \"l\" : \"\";\n        if (r) {\n            var l = r === \"r\" ? \"l\" : \"r\";\n            var rootClone = __assign({}, target);\n            var oldRootRight = target[r];\n            target.from = oldRootRight.from;\n            target.to = oldRootRight.to;\n            target[r] = oldRootRight[r];\n            rootClone[r] = oldRootRight[l];\n            target[l] = rootClone;\n            rootClone.d = computeDepth(rootClone);\n        }\n        target.d = computeDepth(target);\n    }\n    function computeDepth(_a) {\n        var r = _a.r, l = _a.l;\n        return (r ? (l ? Math.max(r.d, l.d) : r.d) : l ? l.d : 0) + 1;\n    }\n\n    function extendObservabilitySet(target, newSet) {\n        keys(newSet).forEach(function (part) {\n            if (target[part])\n                mergeRanges(target[part], newSet[part]);\n            else\n                target[part] = cloneSimpleObjectTree(newSet[part]);\n        });\n        return target;\n    }\n\n    function obsSetsOverlap(os1, os2) {\n        return os1.all || os2.all || Object.keys(os1).some(function (key) { return os2[key] && rangesOverlap(os2[key], os1[key]); });\n    }\n\n    var cache = {};\n\n    var unsignaledParts = {};\n    var isTaskEnqueued = false;\n    function signalSubscribersLazily(part, optimistic) {\n        extendObservabilitySet(unsignaledParts, part);\n        if (!isTaskEnqueued) {\n            isTaskEnqueued = true;\n            setTimeout(function () {\n                isTaskEnqueued = false;\n                var parts = unsignaledParts;\n                unsignaledParts = {};\n                signalSubscribersNow(parts, false);\n            }, 0);\n        }\n    }\n    function signalSubscribersNow(updatedParts, deleteAffectedCacheEntries) {\n        if (deleteAffectedCacheEntries === void 0) { deleteAffectedCacheEntries = false; }\n        var queriesToSignal = new Set();\n        if (updatedParts.all) {\n            for (var _i = 0, _a = Object.values(cache); _i < _a.length; _i++) {\n                var tblCache = _a[_i];\n                collectTableSubscribers(tblCache, updatedParts, queriesToSignal, deleteAffectedCacheEntries);\n            }\n        }\n        else {\n            for (var key in updatedParts) {\n                var parts = /^idb\\:\\/\\/(.*)\\/(.*)\\//.exec(key);\n                if (parts) {\n                    var dbName = parts[1], tableName = parts[2];\n                    var tblCache = cache[\"idb://\".concat(dbName, \"/\").concat(tableName)];\n                    if (tblCache)\n                        collectTableSubscribers(tblCache, updatedParts, queriesToSignal, deleteAffectedCacheEntries);\n                }\n            }\n        }\n        queriesToSignal.forEach(function (requery) { return requery(); });\n    }\n    function collectTableSubscribers(tblCache, updatedParts, outQueriesToSignal, deleteAffectedCacheEntries) {\n        var updatedEntryLists = [];\n        for (var _i = 0, _a = Object.entries(tblCache.queries.query); _i < _a.length; _i++) {\n            var _b = _a[_i], indexName = _b[0], entries = _b[1];\n            var filteredEntries = [];\n            for (var _c = 0, entries_1 = entries; _c < entries_1.length; _c++) {\n                var entry = entries_1[_c];\n                if (obsSetsOverlap(updatedParts, entry.obsSet)) {\n                    entry.subscribers.forEach(function (requery) { return outQueriesToSignal.add(requery); });\n                }\n                else if (deleteAffectedCacheEntries) {\n                    filteredEntries.push(entry);\n                }\n            }\n            if (deleteAffectedCacheEntries)\n                updatedEntryLists.push([indexName, filteredEntries]);\n        }\n        if (deleteAffectedCacheEntries) {\n            for (var _d = 0, updatedEntryLists_1 = updatedEntryLists; _d < updatedEntryLists_1.length; _d++) {\n                var _e = updatedEntryLists_1[_d], indexName = _e[0], filteredEntries = _e[1];\n                tblCache.queries.query[indexName] = filteredEntries;\n            }\n        }\n    }\n\n    function dexieOpen(db) {\n        var state = db._state;\n        var indexedDB = db._deps.indexedDB;\n        if (state.isBeingOpened || db.idbdb)\n            return state.dbReadyPromise.then(function () { return state.dbOpenError ?\n                rejection(state.dbOpenError) :\n                db; });\n        state.isBeingOpened = true;\n        state.dbOpenError = null;\n        state.openComplete = false;\n        var openCanceller = state.openCanceller;\n        var nativeVerToOpen = Math.round(db.verno * 10);\n        var schemaPatchMode = false;\n        function throwIfCancelled() {\n            if (state.openCanceller !== openCanceller)\n                throw new exceptions.DatabaseClosed('db.open() was cancelled');\n        }\n        var resolveDbReady = state.dbReadyResolve,\n        upgradeTransaction = null, wasCreated = false;\n        var tryOpenDB = function () { return new DexiePromise(function (resolve, reject) {\n            throwIfCancelled();\n            if (!indexedDB)\n                throw new exceptions.MissingAPI();\n            var dbName = db.name;\n            var req = state.autoSchema || !nativeVerToOpen ?\n                indexedDB.open(dbName) :\n                indexedDB.open(dbName, nativeVerToOpen);\n            if (!req)\n                throw new exceptions.MissingAPI();\n            req.onerror = eventRejectHandler(reject);\n            req.onblocked = wrap(db._fireOnBlocked);\n            req.onupgradeneeded = wrap(function (e) {\n                upgradeTransaction = req.transaction;\n                if (state.autoSchema && !db._options.allowEmptyDB) {\n                    req.onerror = preventDefault;\n                    upgradeTransaction.abort();\n                    req.result.close();\n                    var delreq = indexedDB.deleteDatabase(dbName);\n                    delreq.onsuccess = delreq.onerror = wrap(function () {\n                        reject(new exceptions.NoSuchDatabase(\"Database \".concat(dbName, \" doesnt exist\")));\n                    });\n                }\n                else {\n                    upgradeTransaction.onerror = eventRejectHandler(reject);\n                    var oldVer = e.oldVersion > Math.pow(2, 62) ? 0 : e.oldVersion;\n                    wasCreated = oldVer < 1;\n                    db.idbdb = req.result;\n                    if (schemaPatchMode) {\n                        patchCurrentVersion(db, upgradeTransaction);\n                    }\n                    runUpgraders(db, oldVer / 10, upgradeTransaction, reject);\n                }\n            }, reject);\n            req.onsuccess = wrap(function () {\n                upgradeTransaction = null;\n                var idbdb = db.idbdb = req.result;\n                var objectStoreNames = slice(idbdb.objectStoreNames);\n                if (objectStoreNames.length > 0)\n                    try {\n                        var tmpTrans = idbdb.transaction(safariMultiStoreFix(objectStoreNames), 'readonly');\n                        if (state.autoSchema)\n                            readGlobalSchema(db, idbdb, tmpTrans);\n                        else {\n                            adjustToExistingIndexNames(db, db._dbSchema, tmpTrans);\n                            if (!verifyInstalledSchema(db, tmpTrans) && !schemaPatchMode) {\n                                console.warn(\"Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this.\");\n                                idbdb.close();\n                                nativeVerToOpen = idbdb.version + 1;\n                                schemaPatchMode = true;\n                                return resolve(tryOpenDB());\n                            }\n                        }\n                        generateMiddlewareStacks(db, tmpTrans);\n                    }\n                    catch (e) {\n                    }\n                connections.push(db);\n                idbdb.onversionchange = wrap(function (ev) {\n                    state.vcFired = true;\n                    db.on(\"versionchange\").fire(ev);\n                });\n                idbdb.onclose = wrap(function (ev) {\n                    db.on(\"close\").fire(ev);\n                });\n                if (wasCreated)\n                    _onDatabaseCreated(db._deps, dbName);\n                resolve();\n            }, reject);\n        }).catch(function (err) {\n            switch (err === null || err === void 0 ? void 0 : err.name) {\n                case \"UnknownError\":\n                    if (state.PR1398_maxLoop > 0) {\n                        state.PR1398_maxLoop--;\n                        console.warn('Dexie: Workaround for Chrome UnknownError on open()');\n                        return tryOpenDB();\n                    }\n                    break;\n                case \"VersionError\":\n                    if (nativeVerToOpen > 0) {\n                        nativeVerToOpen = 0;\n                        return tryOpenDB();\n                    }\n                    break;\n            }\n            return DexiePromise.reject(err);\n        }); };\n        return DexiePromise.race([\n            openCanceller,\n            (typeof navigator === 'undefined' ? DexiePromise.resolve() : idbReady()).then(tryOpenDB)\n        ]).then(function () {\n            throwIfCancelled();\n            state.onReadyBeingFired = [];\n            return DexiePromise.resolve(vip(function () { return db.on.ready.fire(db.vip); })).then(function fireRemainders() {\n                if (state.onReadyBeingFired.length > 0) {\n                    var remainders_1 = state.onReadyBeingFired.reduce(promisableChain, nop);\n                    state.onReadyBeingFired = [];\n                    return DexiePromise.resolve(vip(function () { return remainders_1(db.vip); })).then(fireRemainders);\n                }\n            });\n        }).finally(function () {\n            if (state.openCanceller === openCanceller) {\n                state.onReadyBeingFired = null;\n                state.isBeingOpened = false;\n            }\n        }).catch(function (err) {\n            state.dbOpenError = err;\n            try {\n                upgradeTransaction && upgradeTransaction.abort();\n            }\n            catch (_a) { }\n            if (openCanceller === state.openCanceller) {\n                db._close();\n            }\n            return rejection(err);\n        }).finally(function () {\n            state.openComplete = true;\n            resolveDbReady();\n        }).then(function () {\n            if (wasCreated) {\n                var everything_1 = {};\n                db.tables.forEach(function (table) {\n                    table.schema.indexes.forEach(function (idx) {\n                        if (idx.name)\n                            everything_1[\"idb://\".concat(db.name, \"/\").concat(table.name, \"/\").concat(idx.name)] = new RangeSet(-Infinity, [[[]]]);\n                    });\n                    everything_1[\"idb://\".concat(db.name, \"/\").concat(table.name, \"/\")] = everything_1[\"idb://\".concat(db.name, \"/\").concat(table.name, \"/:dels\")] = new RangeSet(-Infinity, [[[]]]);\n                });\n                globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME).fire(everything_1);\n                signalSubscribersNow(everything_1, true);\n            }\n            return db;\n        });\n    }\n\n    function awaitIterator(iterator) {\n        var callNext = function (result) { return iterator.next(result); }, doThrow = function (error) { return iterator.throw(error); }, onSuccess = step(callNext), onError = step(doThrow);\n        function step(getNext) {\n            return function (val) {\n                var next = getNext(val), value = next.value;\n                return next.done ? value :\n                    (!value || typeof value.then !== 'function' ?\n                        isArray(value) ? Promise.all(value).then(onSuccess, onError) : onSuccess(value) :\n                        value.then(onSuccess, onError));\n            };\n        }\n        return step(callNext)();\n    }\n\n    function extractTransactionArgs(mode, _tableArgs_, scopeFunc) {\n        var i = arguments.length;\n        if (i < 2)\n            throw new exceptions.InvalidArgument(\"Too few arguments\");\n        var args = new Array(i - 1);\n        while (--i)\n            args[i - 1] = arguments[i];\n        scopeFunc = args.pop();\n        var tables = flatten(args);\n        return [mode, tables, scopeFunc];\n    }\n    function enterTransactionScope(db, mode, storeNames, parentTransaction, scopeFunc) {\n        return DexiePromise.resolve().then(function () {\n            var transless = PSD.transless || PSD;\n            var trans = db._createTransaction(mode, storeNames, db._dbSchema, parentTransaction);\n            trans.explicit = true;\n            var zoneProps = {\n                trans: trans,\n                transless: transless\n            };\n            if (parentTransaction) {\n                trans.idbtrans = parentTransaction.idbtrans;\n            }\n            else {\n                try {\n                    trans.create();\n                    trans.idbtrans._explicit = true;\n                    db._state.PR1398_maxLoop = 3;\n                }\n                catch (ex) {\n                    if (ex.name === errnames.InvalidState && db.isOpen() && --db._state.PR1398_maxLoop > 0) {\n                        console.warn('Dexie: Need to reopen db');\n                        db.close({ disableAutoOpen: false });\n                        return db.open().then(function () { return enterTransactionScope(db, mode, storeNames, null, scopeFunc); });\n                    }\n                    return rejection(ex);\n                }\n            }\n            var scopeFuncIsAsync = isAsyncFunction(scopeFunc);\n            if (scopeFuncIsAsync) {\n                incrementExpectedAwaits();\n            }\n            var returnValue;\n            var promiseFollowed = DexiePromise.follow(function () {\n                returnValue = scopeFunc.call(trans, trans);\n                if (returnValue) {\n                    if (scopeFuncIsAsync) {\n                        var decrementor = decrementExpectedAwaits.bind(null, null);\n                        returnValue.then(decrementor, decrementor);\n                    }\n                    else if (typeof returnValue.next === 'function' && typeof returnValue.throw === 'function') {\n                        returnValue = awaitIterator(returnValue);\n                    }\n                }\n            }, zoneProps);\n            return (returnValue && typeof returnValue.then === 'function' ?\n                DexiePromise.resolve(returnValue).then(function (x) { return trans.active ?\n                    x\n                    : rejection(new exceptions.PrematureCommit(\"Transaction committed too early. See http://bit.ly/2kdckMn\")); })\n                : promiseFollowed.then(function () { return returnValue; })).then(function (x) {\n                if (parentTransaction)\n                    trans._resolve();\n                return trans._completion.then(function () { return x; });\n            }).catch(function (e) {\n                trans._reject(e);\n                return rejection(e);\n            });\n        });\n    }\n\n    function pad(a, value, count) {\n        var result = isArray(a) ? a.slice() : [a];\n        for (var i = 0; i < count; ++i)\n            result.push(value);\n        return result;\n    }\n    function createVirtualIndexMiddleware(down) {\n        return __assign(__assign({}, down), { table: function (tableName) {\n                var table = down.table(tableName);\n                var schema = table.schema;\n                var indexLookup = {};\n                var allVirtualIndexes = [];\n                function addVirtualIndexes(keyPath, keyTail, lowLevelIndex) {\n                    var keyPathAlias = getKeyPathAlias(keyPath);\n                    var indexList = (indexLookup[keyPathAlias] = indexLookup[keyPathAlias] || []);\n                    var keyLength = keyPath == null ? 0 : typeof keyPath === 'string' ? 1 : keyPath.length;\n                    var isVirtual = keyTail > 0;\n                    var virtualIndex = __assign(__assign({}, lowLevelIndex), { name: isVirtual\n                            ? \"\".concat(keyPathAlias, \"(virtual-from:\").concat(lowLevelIndex.name, \")\")\n                            : lowLevelIndex.name, lowLevelIndex: lowLevelIndex, isVirtual: isVirtual, keyTail: keyTail, keyLength: keyLength, extractKey: getKeyExtractor(keyPath), unique: !isVirtual && lowLevelIndex.unique });\n                    indexList.push(virtualIndex);\n                    if (!virtualIndex.isPrimaryKey) {\n                        allVirtualIndexes.push(virtualIndex);\n                    }\n                    if (keyLength > 1) {\n                        var virtualKeyPath = keyLength === 2 ?\n                            keyPath[0] :\n                            keyPath.slice(0, keyLength - 1);\n                        addVirtualIndexes(virtualKeyPath, keyTail + 1, lowLevelIndex);\n                    }\n                    indexList.sort(function (a, b) { return a.keyTail - b.keyTail; });\n                    return virtualIndex;\n                }\n                var primaryKey = addVirtualIndexes(schema.primaryKey.keyPath, 0, schema.primaryKey);\n                indexLookup[\":id\"] = [primaryKey];\n                for (var _i = 0, _a = schema.indexes; _i < _a.length; _i++) {\n                    var index = _a[_i];\n                    addVirtualIndexes(index.keyPath, 0, index);\n                }\n                function findBestIndex(keyPath) {\n                    var result = indexLookup[getKeyPathAlias(keyPath)];\n                    return result && result[0];\n                }\n                function translateRange(range, keyTail) {\n                    return {\n                        type: range.type === 1  ?\n                            2  :\n                            range.type,\n                        lower: pad(range.lower, range.lowerOpen ? down.MAX_KEY : down.MIN_KEY, keyTail),\n                        lowerOpen: true,\n                        upper: pad(range.upper, range.upperOpen ? down.MIN_KEY : down.MAX_KEY, keyTail),\n                        upperOpen: true\n                    };\n                }\n                function translateRequest(req) {\n                    var index = req.query.index;\n                    return index.isVirtual ? __assign(__assign({}, req), { query: {\n                            index: index.lowLevelIndex,\n                            range: translateRange(req.query.range, index.keyTail)\n                        } }) : req;\n                }\n                var result = __assign(__assign({}, table), { schema: __assign(__assign({}, schema), { primaryKey: primaryKey, indexes: allVirtualIndexes, getIndexByKeyPath: findBestIndex }), count: function (req) {\n                        return table.count(translateRequest(req));\n                    }, query: function (req) {\n                        return table.query(translateRequest(req));\n                    }, openCursor: function (req) {\n                        var _a = req.query.index, keyTail = _a.keyTail, isVirtual = _a.isVirtual, keyLength = _a.keyLength;\n                        if (!isVirtual)\n                            return table.openCursor(req);\n                        function createVirtualCursor(cursor) {\n                            function _continue(key) {\n                                key != null ?\n                                    cursor.continue(pad(key, req.reverse ? down.MAX_KEY : down.MIN_KEY, keyTail)) :\n                                    req.unique ?\n                                        cursor.continue(cursor.key.slice(0, keyLength)\n                                            .concat(req.reverse\n                                            ? down.MIN_KEY\n                                            : down.MAX_KEY, keyTail)) :\n                                        cursor.continue();\n                            }\n                            var virtualCursor = Object.create(cursor, {\n                                continue: { value: _continue },\n                                continuePrimaryKey: {\n                                    value: function (key, primaryKey) {\n                                        cursor.continuePrimaryKey(pad(key, down.MAX_KEY, keyTail), primaryKey);\n                                    }\n                                },\n                                primaryKey: {\n                                    get: function () {\n                                        return cursor.primaryKey;\n                                    }\n                                },\n                                key: {\n                                    get: function () {\n                                        var key = cursor.key;\n                                        return keyLength === 1 ?\n                                            key[0] :\n                                            key.slice(0, keyLength);\n                                    }\n                                },\n                                value: {\n                                    get: function () {\n                                        return cursor.value;\n                                    }\n                                }\n                            });\n                            return virtualCursor;\n                        }\n                        return table.openCursor(translateRequest(req))\n                            .then(function (cursor) { return cursor && createVirtualCursor(cursor); });\n                    } });\n                return result;\n            } });\n    }\n    var virtualIndexMiddleware = {\n        stack: \"dbcore\",\n        name: \"VirtualIndexMiddleware\",\n        level: 1,\n        create: createVirtualIndexMiddleware\n    };\n\n    function getObjectDiff(a, b, rv, prfx) {\n        rv = rv || {};\n        prfx = prfx || '';\n        keys(a).forEach(function (prop) {\n            if (!hasOwn(b, prop)) {\n                rv[prfx + prop] = undefined;\n            }\n            else {\n                var ap = a[prop], bp = b[prop];\n                if (typeof ap === 'object' && typeof bp === 'object' && ap && bp) {\n                    var apTypeName = toStringTag(ap);\n                    var bpTypeName = toStringTag(bp);\n                    if (apTypeName !== bpTypeName) {\n                        rv[prfx + prop] = b[prop];\n                    }\n                    else if (apTypeName === 'Object') {\n                        getObjectDiff(ap, bp, rv, prfx + prop + '.');\n                    }\n                    else if (ap !== bp) {\n                        rv[prfx + prop] = b[prop];\n                    }\n                }\n                else if (ap !== bp)\n                    rv[prfx + prop] = b[prop];\n            }\n        });\n        keys(b).forEach(function (prop) {\n            if (!hasOwn(a, prop)) {\n                rv[prfx + prop] = b[prop];\n            }\n        });\n        return rv;\n    }\n\n    function getEffectiveKeys(primaryKey, req) {\n        if (req.type === 'delete')\n            return req.keys;\n        return req.keys || req.values.map(primaryKey.extractKey);\n    }\n\n    var hooksMiddleware = {\n        stack: \"dbcore\",\n        name: \"HooksMiddleware\",\n        level: 2,\n        create: function (downCore) { return (__assign(__assign({}, downCore), { table: function (tableName) {\n                var downTable = downCore.table(tableName);\n                var primaryKey = downTable.schema.primaryKey;\n                var tableMiddleware = __assign(__assign({}, downTable), { mutate: function (req) {\n                        var dxTrans = PSD.trans;\n                        var _a = dxTrans.table(tableName).hook, deleting = _a.deleting, creating = _a.creating, updating = _a.updating;\n                        switch (req.type) {\n                            case 'add':\n                                if (creating.fire === nop)\n                                    break;\n                                return dxTrans._promise('readwrite', function () { return addPutOrDelete(req); }, true);\n                            case 'put':\n                                if (creating.fire === nop && updating.fire === nop)\n                                    break;\n                                return dxTrans._promise('readwrite', function () { return addPutOrDelete(req); }, true);\n                            case 'delete':\n                                if (deleting.fire === nop)\n                                    break;\n                                return dxTrans._promise('readwrite', function () { return addPutOrDelete(req); }, true);\n                            case 'deleteRange':\n                                if (deleting.fire === nop)\n                                    break;\n                                return dxTrans._promise('readwrite', function () { return deleteRange(req); }, true);\n                        }\n                        return downTable.mutate(req);\n                        function addPutOrDelete(req) {\n                            var dxTrans = PSD.trans;\n                            var keys = req.keys || getEffectiveKeys(primaryKey, req);\n                            if (!keys)\n                                throw new Error(\"Keys missing\");\n                            req = req.type === 'add' || req.type === 'put' ? __assign(__assign({}, req), { keys: keys }) : __assign({}, req);\n                            if (req.type !== 'delete')\n                                req.values = __spreadArray([], req.values, true);\n                            if (req.keys)\n                                req.keys = __spreadArray([], req.keys, true);\n                            return getExistingValues(downTable, req, keys).then(function (existingValues) {\n                                var contexts = keys.map(function (key, i) {\n                                    var existingValue = existingValues[i];\n                                    var ctx = { onerror: null, onsuccess: null };\n                                    if (req.type === 'delete') {\n                                        deleting.fire.call(ctx, key, existingValue, dxTrans);\n                                    }\n                                    else if (req.type === 'add' || existingValue === undefined) {\n                                        var generatedPrimaryKey = creating.fire.call(ctx, key, req.values[i], dxTrans);\n                                        if (key == null && generatedPrimaryKey != null) {\n                                            key = generatedPrimaryKey;\n                                            req.keys[i] = key;\n                                            if (!primaryKey.outbound) {\n                                                setByKeyPath(req.values[i], primaryKey.keyPath, key);\n                                            }\n                                        }\n                                    }\n                                    else {\n                                        var objectDiff = getObjectDiff(existingValue, req.values[i]);\n                                        var additionalChanges_1 = updating.fire.call(ctx, objectDiff, key, existingValue, dxTrans);\n                                        if (additionalChanges_1) {\n                                            var requestedValue_1 = req.values[i];\n                                            Object.keys(additionalChanges_1).forEach(function (keyPath) {\n                                                if (hasOwn(requestedValue_1, keyPath)) {\n                                                    requestedValue_1[keyPath] = additionalChanges_1[keyPath];\n                                                }\n                                                else {\n                                                    setByKeyPath(requestedValue_1, keyPath, additionalChanges_1[keyPath]);\n                                                }\n                                            });\n                                        }\n                                    }\n                                    return ctx;\n                                });\n                                return downTable.mutate(req).then(function (_a) {\n                                    var failures = _a.failures, results = _a.results, numFailures = _a.numFailures, lastResult = _a.lastResult;\n                                    for (var i = 0; i < keys.length; ++i) {\n                                        var primKey = results ? results[i] : keys[i];\n                                        var ctx = contexts[i];\n                                        if (primKey == null) {\n                                            ctx.onerror && ctx.onerror(failures[i]);\n                                        }\n                                        else {\n                                            ctx.onsuccess && ctx.onsuccess(req.type === 'put' && existingValues[i] ?\n                                                req.values[i] :\n                                                primKey\n                                            );\n                                        }\n                                    }\n                                    return { failures: failures, results: results, numFailures: numFailures, lastResult: lastResult };\n                                }).catch(function (error) {\n                                    contexts.forEach(function (ctx) { return ctx.onerror && ctx.onerror(error); });\n                                    return Promise.reject(error);\n                                });\n                            });\n                        }\n                        function deleteRange(req) {\n                            return deleteNextChunk(req.trans, req.range, 10000);\n                        }\n                        function deleteNextChunk(trans, range, limit) {\n                            return downTable.query({ trans: trans, values: false, query: { index: primaryKey, range: range }, limit: limit })\n                                .then(function (_a) {\n                                var result = _a.result;\n                                return addPutOrDelete({ type: 'delete', keys: result, trans: trans }).then(function (res) {\n                                    if (res.numFailures > 0)\n                                        return Promise.reject(res.failures[0]);\n                                    if (result.length < limit) {\n                                        return { failures: [], numFailures: 0, lastResult: undefined };\n                                    }\n                                    else {\n                                        return deleteNextChunk(trans, __assign(__assign({}, range), { lower: result[result.length - 1], lowerOpen: true }), limit);\n                                    }\n                                });\n                            });\n                        }\n                    } });\n                return tableMiddleware;\n            } })); }\n    };\n    function getExistingValues(table, req, effectiveKeys) {\n        return req.type === \"add\"\n            ? Promise.resolve([])\n            : table.getMany({ trans: req.trans, keys: effectiveKeys, cache: \"immutable\" });\n    }\n\n    function getFromTransactionCache(keys, cache, clone) {\n        try {\n            if (!cache)\n                return null;\n            if (cache.keys.length < keys.length)\n                return null;\n            var result = [];\n            for (var i = 0, j = 0; i < cache.keys.length && j < keys.length; ++i) {\n                if (cmp(cache.keys[i], keys[j]) !== 0)\n                    continue;\n                result.push(clone ? deepClone(cache.values[i]) : cache.values[i]);\n                ++j;\n            }\n            return result.length === keys.length ? result : null;\n        }\n        catch (_a) {\n            return null;\n        }\n    }\n    var cacheExistingValuesMiddleware = {\n        stack: \"dbcore\",\n        level: -1,\n        create: function (core) {\n            return {\n                table: function (tableName) {\n                    var table = core.table(tableName);\n                    return __assign(__assign({}, table), { getMany: function (req) {\n                            if (!req.cache) {\n                                return table.getMany(req);\n                            }\n                            var cachedResult = getFromTransactionCache(req.keys, req.trans[\"_cache\"], req.cache === \"clone\");\n                            if (cachedResult) {\n                                return DexiePromise.resolve(cachedResult);\n                            }\n                            return table.getMany(req).then(function (res) {\n                                req.trans[\"_cache\"] = {\n                                    keys: req.keys,\n                                    values: req.cache === \"clone\" ? deepClone(res) : res,\n                                };\n                                return res;\n                            });\n                        }, mutate: function (req) {\n                            if (req.type !== \"add\")\n                                req.trans[\"_cache\"] = null;\n                            return table.mutate(req);\n                        } });\n                },\n            };\n        },\n    };\n\n    function isCachableContext(ctx, table) {\n        return (ctx.trans.mode === 'readonly' &&\n            !!ctx.subscr &&\n            !ctx.trans.explicit &&\n            ctx.trans.db._options.cache !== 'disabled' &&\n            !table.schema.primaryKey.outbound);\n    }\n\n    function isCachableRequest(type, req) {\n        switch (type) {\n            case 'query':\n                return req.values && !req.unique;\n            case 'get':\n                return false;\n            case 'getMany':\n                return false;\n            case 'count':\n                return false;\n            case 'openCursor':\n                return false;\n        }\n    }\n\n    var observabilityMiddleware = {\n        stack: \"dbcore\",\n        level: 0,\n        name: \"Observability\",\n        create: function (core) {\n            var dbName = core.schema.name;\n            var FULL_RANGE = new RangeSet(core.MIN_KEY, core.MAX_KEY);\n            return __assign(__assign({}, core), { transaction: function (stores, mode, options) {\n                    if (PSD.subscr && mode !== 'readonly') {\n                        throw new exceptions.ReadOnly(\"Readwrite transaction in liveQuery context. Querier source: \".concat(PSD.querier));\n                    }\n                    return core.transaction(stores, mode, options);\n                }, table: function (tableName) {\n                    var table = core.table(tableName);\n                    var schema = table.schema;\n                    var primaryKey = schema.primaryKey, indexes = schema.indexes;\n                    var extractKey = primaryKey.extractKey, outbound = primaryKey.outbound;\n                    var indexesWithAutoIncPK = primaryKey.autoIncrement && indexes.filter(function (index) { return index.compound && index.keyPath.includes(primaryKey.keyPath); });\n                    var tableClone = __assign(__assign({}, table), { mutate: function (req) {\n                            var trans = req.trans;\n                            var mutatedParts = req.mutatedParts || (req.mutatedParts = {});\n                            var getRangeSet = function (indexName) {\n                                var part = \"idb://\".concat(dbName, \"/\").concat(tableName, \"/\").concat(indexName);\n                                return (mutatedParts[part] ||\n                                    (mutatedParts[part] = new RangeSet()));\n                            };\n                            var pkRangeSet = getRangeSet(\"\");\n                            var delsRangeSet = getRangeSet(\":dels\");\n                            var type = req.type;\n                            var _a = req.type === \"deleteRange\"\n                                ? [req.range]\n                                : req.type === \"delete\"\n                                    ? [req.keys]\n                                    : req.values.length < 50\n                                        ? [getEffectiveKeys(primaryKey, req).filter(function (id) { return id; }), req.values]\n                                        : [], keys = _a[0], newObjs = _a[1];\n                            var oldCache = req.trans[\"_cache\"];\n                            if (isArray(keys)) {\n                                pkRangeSet.addKeys(keys);\n                                var oldObjs = type === 'delete' || keys.length === newObjs.length ? getFromTransactionCache(keys, oldCache) : null;\n                                if (!oldObjs) {\n                                    delsRangeSet.addKeys(keys);\n                                }\n                                if (oldObjs || newObjs) {\n                                    trackAffectedIndexes(getRangeSet, schema, oldObjs, newObjs);\n                                }\n                            }\n                            else if (keys) {\n                                var range = { from: keys.lower, to: keys.upper };\n                                delsRangeSet.add(range);\n                                pkRangeSet.add(range);\n                            }\n                            else {\n                                pkRangeSet.add(FULL_RANGE);\n                                delsRangeSet.add(FULL_RANGE);\n                                schema.indexes.forEach(function (idx) { return getRangeSet(idx.name).add(FULL_RANGE); });\n                            }\n                            return table.mutate(req).then(function (res) {\n                                if (keys && (req.type === 'add' || req.type === 'put')) {\n                                    pkRangeSet.addKeys(res.results);\n                                    if (indexesWithAutoIncPK) {\n                                        indexesWithAutoIncPK.forEach(function (idx) {\n                                            var idxVals = req.values.map(function (v) { return idx.extractKey(v); });\n                                            var pkPos = idx.keyPath.findIndex(function (prop) { return prop === primaryKey.keyPath; });\n                                            res.results.forEach(function (pk) { return idxVals[pkPos] = pk; });\n                                            getRangeSet(idx.name).addKeys(idxVals);\n                                        });\n                                    }\n                                }\n                                trans.mutatedParts = extendObservabilitySet(trans.mutatedParts || {}, mutatedParts);\n                                return res;\n                            });\n                        } });\n                    var getRange = function (_a) {\n                        var _b, _c;\n                        var _d = _a.query, index = _d.index, range = _d.range;\n                        return [\n                            index,\n                            new RangeSet((_b = range.lower) !== null && _b !== void 0 ? _b : core.MIN_KEY, (_c = range.upper) !== null && _c !== void 0 ? _c : core.MAX_KEY),\n                        ];\n                    };\n                    var readSubscribers = {\n                        get: function (req) { return [primaryKey, new RangeSet(req.key)]; },\n                        getMany: function (req) { return [primaryKey, new RangeSet().addKeys(req.keys)]; },\n                        count: getRange,\n                        query: getRange,\n                        openCursor: getRange,\n                    };\n                    keys(readSubscribers).forEach(function (method) {\n                        tableClone[method] = function (req) {\n                            var subscr = PSD.subscr;\n                            var isLiveQuery = !!subscr;\n                            var cachable = isCachableContext(PSD, table) && isCachableRequest(method, req);\n                            var obsSet = cachable\n                                ? req.obsSet = {}\n                                : subscr;\n                            if (isLiveQuery) {\n                                var getRangeSet = function (indexName) {\n                                    var part = \"idb://\".concat(dbName, \"/\").concat(tableName, \"/\").concat(indexName);\n                                    return (obsSet[part] ||\n                                        (obsSet[part] = new RangeSet()));\n                                };\n                                var pkRangeSet_1 = getRangeSet(\"\");\n                                var delsRangeSet_1 = getRangeSet(\":dels\");\n                                var _a = readSubscribers[method](req), queriedIndex = _a[0], queriedRanges = _a[1];\n                                if (method === 'query' && queriedIndex.isPrimaryKey && !req.values) {\n                                    delsRangeSet_1.add(queriedRanges);\n                                }\n                                else {\n                                    getRangeSet(queriedIndex.name || \"\").add(queriedRanges);\n                                }\n                                if (!queriedIndex.isPrimaryKey) {\n                                    if (method === \"count\") {\n                                        delsRangeSet_1.add(FULL_RANGE);\n                                    }\n                                    else {\n                                        var keysPromise_1 = method === \"query\" &&\n                                            outbound &&\n                                            req.values &&\n                                            table.query(__assign(__assign({}, req), { values: false }));\n                                        return table[method].apply(this, arguments).then(function (res) {\n                                            if (method === \"query\") {\n                                                if (outbound && req.values) {\n                                                    return keysPromise_1.then(function (_a) {\n                                                        var resultingKeys = _a.result;\n                                                        pkRangeSet_1.addKeys(resultingKeys);\n                                                        return res;\n                                                    });\n                                                }\n                                                var pKeys = req.values\n                                                    ? res.result.map(extractKey)\n                                                    : res.result;\n                                                if (req.values) {\n                                                    pkRangeSet_1.addKeys(pKeys);\n                                                }\n                                                else {\n                                                    delsRangeSet_1.addKeys(pKeys);\n                                                }\n                                            }\n                                            else if (method === \"openCursor\") {\n                                                var cursor_1 = res;\n                                                var wantValues_1 = req.values;\n                                                return (cursor_1 &&\n                                                    Object.create(cursor_1, {\n                                                        key: {\n                                                            get: function () {\n                                                                delsRangeSet_1.addKey(cursor_1.primaryKey);\n                                                                return cursor_1.key;\n                                                            },\n                                                        },\n                                                        primaryKey: {\n                                                            get: function () {\n                                                                var pkey = cursor_1.primaryKey;\n                                                                delsRangeSet_1.addKey(pkey);\n                                                                return pkey;\n                                                            },\n                                                        },\n                                                        value: {\n                                                            get: function () {\n                                                                wantValues_1 && pkRangeSet_1.addKey(cursor_1.primaryKey);\n                                                                return cursor_1.value;\n                                                            },\n                                                        },\n                                                    }));\n                                            }\n                                            return res;\n                                        });\n                                    }\n                                }\n                            }\n                            return table[method].apply(this, arguments);\n                        };\n                    });\n                    return tableClone;\n                } });\n        },\n    };\n    function trackAffectedIndexes(getRangeSet, schema, oldObjs, newObjs) {\n        function addAffectedIndex(ix) {\n            var rangeSet = getRangeSet(ix.name || \"\");\n            function extractKey(obj) {\n                return obj != null ? ix.extractKey(obj) : null;\n            }\n            var addKeyOrKeys = function (key) { return ix.multiEntry && isArray(key)\n                ? key.forEach(function (key) { return rangeSet.addKey(key); })\n                : rangeSet.addKey(key); };\n            (oldObjs || newObjs).forEach(function (_, i) {\n                var oldKey = oldObjs && extractKey(oldObjs[i]);\n                var newKey = newObjs && extractKey(newObjs[i]);\n                if (cmp(oldKey, newKey) !== 0) {\n                    if (oldKey != null)\n                        addKeyOrKeys(oldKey);\n                    if (newKey != null)\n                        addKeyOrKeys(newKey);\n                }\n            });\n        }\n        schema.indexes.forEach(addAffectedIndex);\n    }\n\n    function adjustOptimisticFromFailures(tblCache, req, res) {\n        if (res.numFailures === 0)\n            return req;\n        if (req.type === 'deleteRange') {\n            return null;\n        }\n        var numBulkOps = req.keys\n            ? req.keys.length\n            : 'values' in req && req.values\n                ? req.values.length\n                : 1;\n        if (res.numFailures === numBulkOps) {\n            return null;\n        }\n        var clone = __assign({}, req);\n        if (isArray(clone.keys)) {\n            clone.keys = clone.keys.filter(function (_, i) { return !(i in res.failures); });\n        }\n        if ('values' in clone && isArray(clone.values)) {\n            clone.values = clone.values.filter(function (_, i) { return !(i in res.failures); });\n        }\n        return clone;\n    }\n\n    function isAboveLower(key, range) {\n        return range.lower === undefined\n            ? true\n            : range.lowerOpen\n                ? cmp(key, range.lower) > 0\n                : cmp(key, range.lower) >= 0;\n    }\n    function isBelowUpper(key, range) {\n        return range.upper === undefined\n            ? true\n            : range.upperOpen\n                ? cmp(key, range.upper) < 0\n                : cmp(key, range.upper) <= 0;\n    }\n    function isWithinRange(key, range) {\n        return isAboveLower(key, range) && isBelowUpper(key, range);\n    }\n\n    function applyOptimisticOps(result, req, ops, table, cacheEntry, immutable) {\n        if (!ops || ops.length === 0)\n            return result;\n        var index = req.query.index;\n        var multiEntry = index.multiEntry;\n        var queryRange = req.query.range;\n        var primaryKey = table.schema.primaryKey;\n        var extractPrimKey = primaryKey.extractKey;\n        var extractIndex = index.extractKey;\n        var extractLowLevelIndex = (index.lowLevelIndex || index).extractKey;\n        var finalResult = ops.reduce(function (result, op) {\n            var modifedResult = result;\n            var includedValues = [];\n            if (op.type === 'add' || op.type === 'put') {\n                var includedPKs = new RangeSet();\n                for (var i = op.values.length - 1; i >= 0; --i) {\n                    var value = op.values[i];\n                    var pk = extractPrimKey(value);\n                    if (includedPKs.hasKey(pk))\n                        continue;\n                    var key = extractIndex(value);\n                    if (multiEntry && isArray(key)\n                        ? key.some(function (k) { return isWithinRange(k, queryRange); })\n                        : isWithinRange(key, queryRange)) {\n                        includedPKs.addKey(pk);\n                        includedValues.push(value);\n                    }\n                }\n            }\n            switch (op.type) {\n                case 'add':\n                    modifedResult = result.concat(req.values\n                        ? includedValues\n                        : includedValues.map(function (v) { return extractPrimKey(v); }));\n                    break;\n                case 'put':\n                    var keySet_1 = new RangeSet().addKeys(op.values.map(function (v) { return extractPrimKey(v); }));\n                    modifedResult = result\n                        .filter(\n                    function (item) { return !keySet_1.hasKey(req.values ? extractPrimKey(item) : item); })\n                        .concat(\n                    req.values\n                        ? includedValues\n                        : includedValues.map(function (v) { return extractPrimKey(v); }));\n                    break;\n                case 'delete':\n                    var keysToDelete_1 = new RangeSet().addKeys(op.keys);\n                    modifedResult = result.filter(function (item) { return !keysToDelete_1.hasKey(req.values ? extractPrimKey(item) : item); });\n                    break;\n                case 'deleteRange':\n                    var range_1 = op.range;\n                    modifedResult = result.filter(function (item) { return !isWithinRange(extractPrimKey(item), range_1); });\n                    break;\n            }\n            return modifedResult;\n        }, result);\n        if (finalResult === result)\n            return result;\n        finalResult.sort(function (a, b) {\n            return cmp(extractLowLevelIndex(a), extractLowLevelIndex(b)) ||\n                cmp(extractPrimKey(a), extractPrimKey(b));\n        });\n        if (req.limit && req.limit < Infinity) {\n            if (finalResult.length > req.limit) {\n                finalResult.length = req.limit;\n            }\n            else if (result.length === req.limit && finalResult.length < req.limit) {\n                cacheEntry.dirty = true;\n            }\n        }\n        return immutable ? Object.freeze(finalResult) : finalResult;\n    }\n\n    function areRangesEqual(r1, r2) {\n        return (cmp(r1.lower, r2.lower) === 0 &&\n            cmp(r1.upper, r2.upper) === 0 &&\n            !!r1.lowerOpen === !!r2.lowerOpen &&\n            !!r1.upperOpen === !!r2.upperOpen);\n    }\n\n    function compareLowers(lower1, lower2, lowerOpen1, lowerOpen2) {\n        if (lower1 === undefined)\n            return lower2 !== undefined ? -1 : 0;\n        if (lower2 === undefined)\n            return 1;\n        var c = cmp(lower1, lower2);\n        if (c === 0) {\n            if (lowerOpen1 && lowerOpen2)\n                return 0;\n            if (lowerOpen1)\n                return 1;\n            if (lowerOpen2)\n                return -1;\n        }\n        return c;\n    }\n    function compareUppers(upper1, upper2, upperOpen1, upperOpen2) {\n        if (upper1 === undefined)\n            return upper2 !== undefined ? 1 : 0;\n        if (upper2 === undefined)\n            return -1;\n        var c = cmp(upper1, upper2);\n        if (c === 0) {\n            if (upperOpen1 && upperOpen2)\n                return 0;\n            if (upperOpen1)\n                return -1;\n            if (upperOpen2)\n                return 1;\n        }\n        return c;\n    }\n    function isSuperRange(r1, r2) {\n        return (compareLowers(r1.lower, r2.lower, r1.lowerOpen, r2.lowerOpen) <= 0 &&\n            compareUppers(r1.upper, r2.upper, r1.upperOpen, r2.upperOpen) >= 0);\n    }\n\n    function findCompatibleQuery(dbName, tableName, type, req) {\n        var tblCache = cache[\"idb://\".concat(dbName, \"/\").concat(tableName)];\n        if (!tblCache)\n            return [];\n        var queries = tblCache.queries[type];\n        if (!queries)\n            return [null, false, tblCache, null];\n        var indexName = req.query ? req.query.index.name : null;\n        var entries = queries[indexName || ''];\n        if (!entries)\n            return [null, false, tblCache, null];\n        switch (type) {\n            case 'query':\n                var equalEntry = entries.find(function (entry) {\n                    return entry.req.limit === req.limit &&\n                        entry.req.values === req.values &&\n                        areRangesEqual(entry.req.query.range, req.query.range);\n                });\n                if (equalEntry)\n                    return [\n                        equalEntry,\n                        true,\n                        tblCache,\n                        entries,\n                    ];\n                var superEntry = entries.find(function (entry) {\n                    var limit = 'limit' in entry.req ? entry.req.limit : Infinity;\n                    return (limit >= req.limit &&\n                        (req.values ? entry.req.values : true) &&\n                        isSuperRange(entry.req.query.range, req.query.range));\n                });\n                return [superEntry, false, tblCache, entries];\n            case 'count':\n                var countQuery = entries.find(function (entry) {\n                    return areRangesEqual(entry.req.query.range, req.query.range);\n                });\n                return [countQuery, !!countQuery, tblCache, entries];\n        }\n    }\n\n    function subscribeToCacheEntry(cacheEntry, container, requery, signal) {\n        cacheEntry.subscribers.add(requery);\n        signal.addEventListener(\"abort\", function () {\n            cacheEntry.subscribers.delete(requery);\n            if (cacheEntry.subscribers.size === 0) {\n                enqueForDeletion(cacheEntry, container);\n            }\n        });\n    }\n    function enqueForDeletion(cacheEntry, container) {\n        setTimeout(function () {\n            if (cacheEntry.subscribers.size === 0) {\n                delArrayItem(container, cacheEntry);\n            }\n        }, 3000);\n    }\n\n    var cacheMiddleware = {\n        stack: 'dbcore',\n        level: 0,\n        name: 'Cache',\n        create: function (core) {\n            var dbName = core.schema.name;\n            var coreMW = __assign(__assign({}, core), { transaction: function (stores, mode, options) {\n                    var idbtrans = core.transaction(stores, mode, options);\n                    if (mode === 'readwrite') {\n                        var ac_1 = new AbortController();\n                        var signal = ac_1.signal;\n                        var endTransaction = function (wasCommitted) { return function () {\n                            ac_1.abort();\n                            if (mode === 'readwrite') {\n                                var affectedSubscribers_1 = new Set();\n                                for (var _i = 0, stores_1 = stores; _i < stores_1.length; _i++) {\n                                    var storeName = stores_1[_i];\n                                    var tblCache = cache[\"idb://\".concat(dbName, \"/\").concat(storeName)];\n                                    if (tblCache) {\n                                        var table = core.table(storeName);\n                                        var ops = tblCache.optimisticOps.filter(function (op) { return op.trans === idbtrans; });\n                                        if (idbtrans._explicit && wasCommitted && idbtrans.mutatedParts) {\n                                            for (var _a = 0, _b = Object.values(tblCache.queries.query); _a < _b.length; _a++) {\n                                                var entries = _b[_a];\n                                                for (var _c = 0, _d = entries.slice(); _c < _d.length; _c++) {\n                                                    var entry = _d[_c];\n                                                    if (obsSetsOverlap(entry.obsSet, idbtrans.mutatedParts)) {\n                                                        delArrayItem(entries, entry);\n                                                        entry.subscribers.forEach(function (requery) { return affectedSubscribers_1.add(requery); });\n                                                    }\n                                                }\n                                            }\n                                        }\n                                        else if (ops.length > 0) {\n                                            tblCache.optimisticOps = tblCache.optimisticOps.filter(function (op) { return op.trans !== idbtrans; });\n                                            for (var _e = 0, _f = Object.values(tblCache.queries.query); _e < _f.length; _e++) {\n                                                var entries = _f[_e];\n                                                for (var _g = 0, _h = entries.slice(); _g < _h.length; _g++) {\n                                                    var entry = _h[_g];\n                                                    if (entry.res != null &&\n                                                        idbtrans.mutatedParts\n    ) {\n                                                        if (wasCommitted && !entry.dirty) {\n                                                            var freezeResults = Object.isFrozen(entry.res);\n                                                            var modRes = applyOptimisticOps(entry.res, entry.req, ops, table, entry, freezeResults);\n                                                            if (entry.dirty) {\n                                                                delArrayItem(entries, entry);\n                                                                entry.subscribers.forEach(function (requery) { return affectedSubscribers_1.add(requery); });\n                                                            }\n                                                            else if (modRes !== entry.res) {\n                                                                entry.res = modRes;\n                                                                entry.promise = DexiePromise.resolve({ result: modRes });\n                                                            }\n                                                        }\n                                                        else {\n                                                            if (entry.dirty) {\n                                                                delArrayItem(entries, entry);\n                                                            }\n                                                            entry.subscribers.forEach(function (requery) { return affectedSubscribers_1.add(requery); });\n                                                        }\n                                                    }\n                                                }\n                                            }\n                                        }\n                                    }\n                                }\n                                affectedSubscribers_1.forEach(function (requery) { return requery(); });\n                            }\n                        }; };\n                        idbtrans.addEventListener('abort', endTransaction(false), {\n                            signal: signal,\n                        });\n                        idbtrans.addEventListener('error', endTransaction(false), {\n                            signal: signal,\n                        });\n                        idbtrans.addEventListener('complete', endTransaction(true), {\n                            signal: signal,\n                        });\n                    }\n                    return idbtrans;\n                }, table: function (tableName) {\n                    var downTable = core.table(tableName);\n                    var primKey = downTable.schema.primaryKey;\n                    var tableMW = __assign(__assign({}, downTable), { mutate: function (req) {\n                            var trans = PSD.trans;\n                            if (primKey.outbound ||\n                                trans.db._options.cache === 'disabled' ||\n                                trans.explicit\n                            ) {\n                                return downTable.mutate(req);\n                            }\n                            var tblCache = cache[\"idb://\".concat(dbName, \"/\").concat(tableName)];\n                            if (!tblCache)\n                                return downTable.mutate(req);\n                            var promise = downTable.mutate(req);\n                            if ((req.type === 'add' || req.type === 'put') && (req.values.length >= 50 || getEffectiveKeys(primKey, req).some(function (key) { return key == null; }))) {\n                                promise.then(function (res) {\n                                    var reqWithResolvedKeys = __assign(__assign({}, req), { values: req.values.map(function (value, i) {\n                                            var _a;\n                                            var valueWithKey = ((_a = primKey.keyPath) === null || _a === void 0 ? void 0 : _a.includes('.'))\n                                                ? deepClone(value)\n                                                : __assign({}, value);\n                                            setByKeyPath(valueWithKey, primKey.keyPath, res.results[i]);\n                                            return valueWithKey;\n                                        }) });\n                                    var adjustedReq = adjustOptimisticFromFailures(tblCache, reqWithResolvedKeys, res);\n                                    tblCache.optimisticOps.push(adjustedReq);\n                                    queueMicrotask(function () { return req.mutatedParts && signalSubscribersLazily(req.mutatedParts); });\n                                });\n                            }\n                            else {\n                                tblCache.optimisticOps.push(req);\n                                req.mutatedParts && signalSubscribersLazily(req.mutatedParts);\n                                promise.then(function (res) {\n                                    if (res.numFailures > 0) {\n                                        delArrayItem(tblCache.optimisticOps, req);\n                                        var adjustedReq = adjustOptimisticFromFailures(tblCache, req, res);\n                                        if (adjustedReq) {\n                                            tblCache.optimisticOps.push(adjustedReq);\n                                        }\n                                        req.mutatedParts && signalSubscribersLazily(req.mutatedParts);\n                                    }\n                                });\n                                promise.catch(function () {\n                                    delArrayItem(tblCache.optimisticOps, req);\n                                    req.mutatedParts && signalSubscribersLazily(req.mutatedParts);\n                                });\n                            }\n                            return promise;\n                        }, query: function (req) {\n                            var _a;\n                            if (!isCachableContext(PSD, downTable) || !isCachableRequest(\"query\", req))\n                                return downTable.query(req);\n                            var freezeResults = ((_a = PSD.trans) === null || _a === void 0 ? void 0 : _a.db._options.cache) === 'immutable';\n                            var _b = PSD, requery = _b.requery, signal = _b.signal;\n                            var _c = findCompatibleQuery(dbName, tableName, 'query', req), cacheEntry = _c[0], exactMatch = _c[1], tblCache = _c[2], container = _c[3];\n                            if (cacheEntry && exactMatch) {\n                                cacheEntry.obsSet = req.obsSet;\n                            }\n                            else {\n                                var promise = downTable.query(req).then(function (res) {\n                                    var result = res.result;\n                                    if (cacheEntry)\n                                        cacheEntry.res = result;\n                                    if (freezeResults) {\n                                        for (var i = 0, l = result.length; i < l; ++i) {\n                                            Object.freeze(result[i]);\n                                        }\n                                        Object.freeze(result);\n                                    }\n                                    else {\n                                        res.result = deepClone(result);\n                                    }\n                                    return res;\n                                }).catch(function (error) {\n                                    if (container && cacheEntry)\n                                        delArrayItem(container, cacheEntry);\n                                    return Promise.reject(error);\n                                });\n                                cacheEntry = {\n                                    obsSet: req.obsSet,\n                                    promise: promise,\n                                    subscribers: new Set(),\n                                    type: 'query',\n                                    req: req,\n                                    dirty: false,\n                                };\n                                if (container) {\n                                    container.push(cacheEntry);\n                                }\n                                else {\n                                    container = [cacheEntry];\n                                    if (!tblCache) {\n                                        tblCache = cache[\"idb://\".concat(dbName, \"/\").concat(tableName)] = {\n                                            queries: {\n                                                query: {},\n                                                count: {},\n                                            },\n                                            objs: new Map(),\n                                            optimisticOps: [],\n                                            unsignaledParts: {}\n                                        };\n                                    }\n                                    tblCache.queries.query[req.query.index.name || ''] = container;\n                                }\n                            }\n                            subscribeToCacheEntry(cacheEntry, container, requery, signal);\n                            return cacheEntry.promise.then(function (res) {\n                                return {\n                                    result: applyOptimisticOps(res.result, req, tblCache === null || tblCache === void 0 ? void 0 : tblCache.optimisticOps, downTable, cacheEntry, freezeResults),\n                                };\n                            });\n                        } });\n                    return tableMW;\n                } });\n            return coreMW;\n        },\n    };\n\n    function vipify(target, vipDb) {\n        return new Proxy(target, {\n            get: function (target, prop, receiver) {\n                if (prop === 'db')\n                    return vipDb;\n                return Reflect.get(target, prop, receiver);\n            }\n        });\n    }\n\n    var Dexie$1 =  (function () {\n        function Dexie(name, options) {\n            var _this = this;\n            this._middlewares = {};\n            this.verno = 0;\n            var deps = Dexie.dependencies;\n            this._options = options = __assign({\n                addons: Dexie.addons, autoOpen: true,\n                indexedDB: deps.indexedDB, IDBKeyRange: deps.IDBKeyRange, cache: 'cloned' }, options);\n            this._deps = {\n                indexedDB: options.indexedDB,\n                IDBKeyRange: options.IDBKeyRange\n            };\n            var addons = options.addons;\n            this._dbSchema = {};\n            this._versions = [];\n            this._storeNames = [];\n            this._allTables = {};\n            this.idbdb = null;\n            this._novip = this;\n            var state = {\n                dbOpenError: null,\n                isBeingOpened: false,\n                onReadyBeingFired: null,\n                openComplete: false,\n                dbReadyResolve: nop,\n                dbReadyPromise: null,\n                cancelOpen: nop,\n                openCanceller: null,\n                autoSchema: true,\n                PR1398_maxLoop: 3,\n                autoOpen: options.autoOpen,\n            };\n            state.dbReadyPromise = new DexiePromise(function (resolve) {\n                state.dbReadyResolve = resolve;\n            });\n            state.openCanceller = new DexiePromise(function (_, reject) {\n                state.cancelOpen = reject;\n            });\n            this._state = state;\n            this.name = name;\n            this.on = Events(this, \"populate\", \"blocked\", \"versionchange\", \"close\", { ready: [promisableChain, nop] });\n            this.on.ready.subscribe = override(this.on.ready.subscribe, function (subscribe) {\n                return function (subscriber, bSticky) {\n                    Dexie.vip(function () {\n                        var state = _this._state;\n                        if (state.openComplete) {\n                            if (!state.dbOpenError)\n                                DexiePromise.resolve().then(subscriber);\n                            if (bSticky)\n                                subscribe(subscriber);\n                        }\n                        else if (state.onReadyBeingFired) {\n                            state.onReadyBeingFired.push(subscriber);\n                            if (bSticky)\n                                subscribe(subscriber);\n                        }\n                        else {\n                            subscribe(subscriber);\n                            var db_1 = _this;\n                            if (!bSticky)\n                                subscribe(function unsubscribe() {\n                                    db_1.on.ready.unsubscribe(subscriber);\n                                    db_1.on.ready.unsubscribe(unsubscribe);\n                                });\n                        }\n                    });\n                };\n            });\n            this.Collection = createCollectionConstructor(this);\n            this.Table = createTableConstructor(this);\n            this.Transaction = createTransactionConstructor(this);\n            this.Version = createVersionConstructor(this);\n            this.WhereClause = createWhereClauseConstructor(this);\n            this.on(\"versionchange\", function (ev) {\n                if (ev.newVersion > 0)\n                    console.warn(\"Another connection wants to upgrade database '\".concat(_this.name, \"'. Closing db now to resume the upgrade.\"));\n                else\n                    console.warn(\"Another connection wants to delete database '\".concat(_this.name, \"'. Closing db now to resume the delete request.\"));\n                _this.close({ disableAutoOpen: false });\n            });\n            this.on(\"blocked\", function (ev) {\n                if (!ev.newVersion || ev.newVersion < ev.oldVersion)\n                    console.warn(\"Dexie.delete('\".concat(_this.name, \"') was blocked\"));\n                else\n                    console.warn(\"Upgrade '\".concat(_this.name, \"' blocked by other connection holding version \").concat(ev.oldVersion / 10));\n            });\n            this._maxKey = getMaxKey(options.IDBKeyRange);\n            this._createTransaction = function (mode, storeNames, dbschema, parentTransaction) { return new _this.Transaction(mode, storeNames, dbschema, _this._options.chromeTransactionDurability, parentTransaction); };\n            this._fireOnBlocked = function (ev) {\n                _this.on(\"blocked\").fire(ev);\n                connections\n                    .filter(function (c) { return c.name === _this.name && c !== _this && !c._state.vcFired; })\n                    .map(function (c) { return c.on(\"versionchange\").fire(ev); });\n            };\n            this.use(cacheExistingValuesMiddleware);\n            this.use(cacheMiddleware);\n            this.use(observabilityMiddleware);\n            this.use(virtualIndexMiddleware);\n            this.use(hooksMiddleware);\n            var vipDB = new Proxy(this, {\n                get: function (_, prop, receiver) {\n                    if (prop === '_vip')\n                        return true;\n                    if (prop === 'table')\n                        return function (tableName) { return vipify(_this.table(tableName), vipDB); };\n                    var rv = Reflect.get(_, prop, receiver);\n                    if (rv instanceof Table)\n                        return vipify(rv, vipDB);\n                    if (prop === 'tables')\n                        return rv.map(function (t) { return vipify(t, vipDB); });\n                    if (prop === '_createTransaction')\n                        return function () {\n                            var tx = rv.apply(this, arguments);\n                            return vipify(tx, vipDB);\n                        };\n                    return rv;\n                }\n            });\n            this.vip = vipDB;\n            addons.forEach(function (addon) { return addon(_this); });\n        }\n        Dexie.prototype.version = function (versionNumber) {\n            if (isNaN(versionNumber) || versionNumber < 0.1)\n                throw new exceptions.Type(\"Given version is not a positive number\");\n            versionNumber = Math.round(versionNumber * 10) / 10;\n            if (this.idbdb || this._state.isBeingOpened)\n                throw new exceptions.Schema(\"Cannot add version when database is open\");\n            this.verno = Math.max(this.verno, versionNumber);\n            var versions = this._versions;\n            var versionInstance = versions.filter(function (v) { return v._cfg.version === versionNumber; })[0];\n            if (versionInstance)\n                return versionInstance;\n            versionInstance = new this.Version(versionNumber);\n            versions.push(versionInstance);\n            versions.sort(lowerVersionFirst);\n            versionInstance.stores({});\n            this._state.autoSchema = false;\n            return versionInstance;\n        };\n        Dexie.prototype._whenReady = function (fn) {\n            var _this = this;\n            return (this.idbdb && (this._state.openComplete || PSD.letThrough || this._vip)) ? fn() : new DexiePromise(function (resolve, reject) {\n                if (_this._state.openComplete) {\n                    return reject(new exceptions.DatabaseClosed(_this._state.dbOpenError));\n                }\n                if (!_this._state.isBeingOpened) {\n                    if (!_this._state.autoOpen) {\n                        reject(new exceptions.DatabaseClosed());\n                        return;\n                    }\n                    _this.open().catch(nop);\n                }\n                _this._state.dbReadyPromise.then(resolve, reject);\n            }).then(fn);\n        };\n        Dexie.prototype.use = function (_a) {\n            var stack = _a.stack, create = _a.create, level = _a.level, name = _a.name;\n            if (name)\n                this.unuse({ stack: stack, name: name });\n            var middlewares = this._middlewares[stack] || (this._middlewares[stack] = []);\n            middlewares.push({ stack: stack, create: create, level: level == null ? 10 : level, name: name });\n            middlewares.sort(function (a, b) { return a.level - b.level; });\n            return this;\n        };\n        Dexie.prototype.unuse = function (_a) {\n            var stack = _a.stack, name = _a.name, create = _a.create;\n            if (stack && this._middlewares[stack]) {\n                this._middlewares[stack] = this._middlewares[stack].filter(function (mw) {\n                    return create ? mw.create !== create :\n                        name ? mw.name !== name :\n                            false;\n                });\n            }\n            return this;\n        };\n        Dexie.prototype.open = function () {\n            var _this = this;\n            return usePSD(globalPSD,\n            function () { return dexieOpen(_this); });\n        };\n        Dexie.prototype._close = function () {\n            var state = this._state;\n            var idx = connections.indexOf(this);\n            if (idx >= 0)\n                connections.splice(idx, 1);\n            if (this.idbdb) {\n                try {\n                    this.idbdb.close();\n                }\n                catch (e) { }\n                this.idbdb = null;\n            }\n            if (!state.isBeingOpened) {\n                state.dbReadyPromise = new DexiePromise(function (resolve) {\n                    state.dbReadyResolve = resolve;\n                });\n                state.openCanceller = new DexiePromise(function (_, reject) {\n                    state.cancelOpen = reject;\n                });\n            }\n        };\n        Dexie.prototype.close = function (_a) {\n            var _b = _a === void 0 ? { disableAutoOpen: true } : _a, disableAutoOpen = _b.disableAutoOpen;\n            var state = this._state;\n            if (disableAutoOpen) {\n                if (state.isBeingOpened) {\n                    state.cancelOpen(new exceptions.DatabaseClosed());\n                }\n                this._close();\n                state.autoOpen = false;\n                state.dbOpenError = new exceptions.DatabaseClosed();\n            }\n            else {\n                this._close();\n                state.autoOpen = this._options.autoOpen ||\n                    state.isBeingOpened;\n                state.openComplete = false;\n                state.dbOpenError = null;\n            }\n        };\n        Dexie.prototype.delete = function (closeOptions) {\n            var _this = this;\n            if (closeOptions === void 0) { closeOptions = { disableAutoOpen: true }; }\n            var hasInvalidArguments = arguments.length > 0 && typeof arguments[0] !== 'object';\n            var state = this._state;\n            return new DexiePromise(function (resolve, reject) {\n                var doDelete = function () {\n                    _this.close(closeOptions);\n                    var req = _this._deps.indexedDB.deleteDatabase(_this.name);\n                    req.onsuccess = wrap(function () {\n                        _onDatabaseDeleted(_this._deps, _this.name);\n                        resolve();\n                    });\n                    req.onerror = eventRejectHandler(reject);\n                    req.onblocked = _this._fireOnBlocked;\n                };\n                if (hasInvalidArguments)\n                    throw new exceptions.InvalidArgument(\"Invalid closeOptions argument to db.delete()\");\n                if (state.isBeingOpened) {\n                    state.dbReadyPromise.then(doDelete);\n                }\n                else {\n                    doDelete();\n                }\n            });\n        };\n        Dexie.prototype.backendDB = function () {\n            return this.idbdb;\n        };\n        Dexie.prototype.isOpen = function () {\n            return this.idbdb !== null;\n        };\n        Dexie.prototype.hasBeenClosed = function () {\n            var dbOpenError = this._state.dbOpenError;\n            return dbOpenError && (dbOpenError.name === 'DatabaseClosed');\n        };\n        Dexie.prototype.hasFailed = function () {\n            return this._state.dbOpenError !== null;\n        };\n        Dexie.prototype.dynamicallyOpened = function () {\n            return this._state.autoSchema;\n        };\n        Object.defineProperty(Dexie.prototype, \"tables\", {\n            get: function () {\n                var _this = this;\n                return keys(this._allTables).map(function (name) { return _this._allTables[name]; });\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Dexie.prototype.transaction = function () {\n            var args = extractTransactionArgs.apply(this, arguments);\n            return this._transaction.apply(this, args);\n        };\n        Dexie.prototype._transaction = function (mode, tables, scopeFunc) {\n            var _this = this;\n            var parentTransaction = PSD.trans;\n            if (!parentTransaction || parentTransaction.db !== this || mode.indexOf('!') !== -1)\n                parentTransaction = null;\n            var onlyIfCompatible = mode.indexOf('?') !== -1;\n            mode = mode.replace('!', '').replace('?', '');\n            var idbMode, storeNames;\n            try {\n                storeNames = tables.map(function (table) {\n                    var storeName = table instanceof _this.Table ? table.name : table;\n                    if (typeof storeName !== 'string')\n                        throw new TypeError(\"Invalid table argument to Dexie.transaction(). Only Table or String are allowed\");\n                    return storeName;\n                });\n                if (mode == \"r\" || mode === READONLY)\n                    idbMode = READONLY;\n                else if (mode == \"rw\" || mode == READWRITE)\n                    idbMode = READWRITE;\n                else\n                    throw new exceptions.InvalidArgument(\"Invalid transaction mode: \" + mode);\n                if (parentTransaction) {\n                    if (parentTransaction.mode === READONLY && idbMode === READWRITE) {\n                        if (onlyIfCompatible) {\n                            parentTransaction = null;\n                        }\n                        else\n                            throw new exceptions.SubTransaction(\"Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY\");\n                    }\n                    if (parentTransaction) {\n                        storeNames.forEach(function (storeName) {\n                            if (parentTransaction && parentTransaction.storeNames.indexOf(storeName) === -1) {\n                                if (onlyIfCompatible) {\n                                    parentTransaction = null;\n                                }\n                                else\n                                    throw new exceptions.SubTransaction(\"Table \" + storeName +\n                                        \" not included in parent transaction.\");\n                            }\n                        });\n                    }\n                    if (onlyIfCompatible && parentTransaction && !parentTransaction.active) {\n                        parentTransaction = null;\n                    }\n                }\n            }\n            catch (e) {\n                return parentTransaction ?\n                    parentTransaction._promise(null, function (_, reject) { reject(e); }) :\n                    rejection(e);\n            }\n            var enterTransaction = enterTransactionScope.bind(null, this, idbMode, storeNames, parentTransaction, scopeFunc);\n            return (parentTransaction ?\n                parentTransaction._promise(idbMode, enterTransaction, \"lock\") :\n                PSD.trans ?\n                    usePSD(PSD.transless, function () { return _this._whenReady(enterTransaction); }) :\n                    this._whenReady(enterTransaction));\n        };\n        Dexie.prototype.table = function (tableName) {\n            if (!hasOwn(this._allTables, tableName)) {\n                throw new exceptions.InvalidTable(\"Table \".concat(tableName, \" does not exist\"));\n            }\n            return this._allTables[tableName];\n        };\n        return Dexie;\n    }());\n\n    var symbolObservable = typeof Symbol !== \"undefined\" && \"observable\" in Symbol\n        ? Symbol.observable\n        : \"@@observable\";\n    var Observable =  (function () {\n        function Observable(subscribe) {\n            this._subscribe = subscribe;\n        }\n        Observable.prototype.subscribe = function (x, error, complete) {\n            return this._subscribe(!x || typeof x === \"function\" ? { next: x, error: error, complete: complete } : x);\n        };\n        Observable.prototype[symbolObservable] = function () {\n            return this;\n        };\n        return Observable;\n    }());\n\n    var domDeps;\n    try {\n        domDeps = {\n            indexedDB: _global.indexedDB || _global.mozIndexedDB || _global.webkitIndexedDB || _global.msIndexedDB,\n            IDBKeyRange: _global.IDBKeyRange || _global.webkitIDBKeyRange\n        };\n    }\n    catch (e) {\n        domDeps = { indexedDB: null, IDBKeyRange: null };\n    }\n\n    function liveQuery(querier) {\n        var hasValue = false;\n        var currentValue;\n        var observable = new Observable(function (observer) {\n            var scopeFuncIsAsync = isAsyncFunction(querier);\n            function execute(ctx) {\n                var wasRootExec = beginMicroTickScope();\n                try {\n                    if (scopeFuncIsAsync) {\n                        incrementExpectedAwaits();\n                    }\n                    var rv = newScope(querier, ctx);\n                    if (scopeFuncIsAsync) {\n                        rv = rv.finally(decrementExpectedAwaits);\n                    }\n                    return rv;\n                }\n                finally {\n                    wasRootExec && endMicroTickScope();\n                }\n            }\n            var closed = false;\n            var abortController;\n            var accumMuts = {};\n            var currentObs = {};\n            var subscription = {\n                get closed() {\n                    return closed;\n                },\n                unsubscribe: function () {\n                    if (closed)\n                        return;\n                    closed = true;\n                    if (abortController)\n                        abortController.abort();\n                    if (startedListening)\n                        globalEvents.storagemutated.unsubscribe(mutationListener);\n                },\n            };\n            observer.start && observer.start(subscription);\n            var startedListening = false;\n            var doQuery = function () { return execInGlobalContext(_doQuery); };\n            function shouldNotify() {\n                return obsSetsOverlap(currentObs, accumMuts);\n            }\n            var mutationListener = function (parts) {\n                extendObservabilitySet(accumMuts, parts);\n                if (shouldNotify()) {\n                    doQuery();\n                }\n            };\n            var _doQuery = function () {\n                if (closed ||\n                    !domDeps.indexedDB)\n                 {\n                    return;\n                }\n                accumMuts = {};\n                var subscr = {};\n                if (abortController)\n                    abortController.abort();\n                abortController = new AbortController();\n                var ctx = {\n                    subscr: subscr,\n                    signal: abortController.signal,\n                    requery: doQuery,\n                    querier: querier,\n                    trans: null\n                };\n                var ret = execute(ctx);\n                Promise.resolve(ret).then(function (result) {\n                    hasValue = true;\n                    currentValue = result;\n                    if (closed || ctx.signal.aborted) {\n                        return;\n                    }\n                    accumMuts = {};\n                    currentObs = subscr;\n                    if (!objectIsEmpty(currentObs) && !startedListening) {\n                        globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME, mutationListener);\n                        startedListening = true;\n                    }\n                    execInGlobalContext(function () { return !closed && observer.next && observer.next(result); });\n                }, function (err) {\n                    hasValue = false;\n                    if (!['DatabaseClosedError', 'AbortError'].includes(err === null || err === void 0 ? void 0 : err.name)) {\n                        if (!closed)\n                            execInGlobalContext(function () {\n                                if (closed)\n                                    return;\n                                observer.error && observer.error(err);\n                            });\n                    }\n                });\n            };\n            setTimeout(doQuery, 0);\n            return subscription;\n        });\n        observable.hasValue = function () { return hasValue; };\n        observable.getValue = function () { return currentValue; };\n        return observable;\n    }\n\n    var Dexie = Dexie$1;\n    props(Dexie, __assign(__assign({}, fullNameExceptions), {\n        delete: function (databaseName) {\n            var db = new Dexie(databaseName, { addons: [] });\n            return db.delete();\n        },\n        exists: function (name) {\n            return new Dexie(name, { addons: [] }).open().then(function (db) {\n                db.close();\n                return true;\n            }).catch('NoSuchDatabaseError', function () { return false; });\n        },\n        getDatabaseNames: function (cb) {\n            try {\n                return getDatabaseNames(Dexie.dependencies).then(cb);\n            }\n            catch (_a) {\n                return rejection(new exceptions.MissingAPI());\n            }\n        },\n        defineClass: function () {\n            function Class(content) {\n                extend(this, content);\n            }\n            return Class;\n        }, ignoreTransaction: function (scopeFunc) {\n            return PSD.trans ?\n                usePSD(PSD.transless, scopeFunc) :\n                scopeFunc();\n        }, vip: vip, async: function (generatorFn) {\n            return function () {\n                try {\n                    var rv = awaitIterator(generatorFn.apply(this, arguments));\n                    if (!rv || typeof rv.then !== 'function')\n                        return DexiePromise.resolve(rv);\n                    return rv;\n                }\n                catch (e) {\n                    return rejection(e);\n                }\n            };\n        }, spawn: function (generatorFn, args, thiz) {\n            try {\n                var rv = awaitIterator(generatorFn.apply(thiz, args || []));\n                if (!rv || typeof rv.then !== 'function')\n                    return DexiePromise.resolve(rv);\n                return rv;\n            }\n            catch (e) {\n                return rejection(e);\n            }\n        },\n        currentTransaction: {\n            get: function () { return PSD.trans || null; }\n        }, waitFor: function (promiseOrFunction, optionalTimeout) {\n            var promise = DexiePromise.resolve(typeof promiseOrFunction === 'function' ?\n                Dexie.ignoreTransaction(promiseOrFunction) :\n                promiseOrFunction)\n                .timeout(optionalTimeout || 60000);\n            return PSD.trans ?\n                PSD.trans.waitFor(promise) :\n                promise;\n        },\n        Promise: DexiePromise,\n        debug: {\n            get: function () { return debug; },\n            set: function (value) {\n                setDebug(value);\n            }\n        },\n        derive: derive, extend: extend, props: props, override: override,\n        Events: Events, on: globalEvents, liveQuery: liveQuery, extendObservabilitySet: extendObservabilitySet,\n        getByKeyPath: getByKeyPath, setByKeyPath: setByKeyPath, delByKeyPath: delByKeyPath, shallowClone: shallowClone, deepClone: deepClone, getObjectDiff: getObjectDiff, cmp: cmp, asap: asap$1,\n        minKey: minKey,\n        addons: [],\n        connections: connections,\n        errnames: errnames,\n        dependencies: domDeps, cache: cache,\n        semVer: DEXIE_VERSION, version: DEXIE_VERSION.split('.')\n            .map(function (n) { return parseInt(n); })\n            .reduce(function (p, c, i) { return p + (c / Math.pow(10, i * 2)); }) }));\n    Dexie.maxKey = getMaxKey(Dexie.dependencies.IDBKeyRange);\n\n    if (typeof dispatchEvent !== 'undefined' && typeof addEventListener !== 'undefined') {\n        globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME, function (updatedParts) {\n            if (!propagatingLocally) {\n                var event_1;\n                event_1 = new CustomEvent(STORAGE_MUTATED_DOM_EVENT_NAME, {\n                    detail: updatedParts\n                });\n                propagatingLocally = true;\n                dispatchEvent(event_1);\n                propagatingLocally = false;\n            }\n        });\n        addEventListener(STORAGE_MUTATED_DOM_EVENT_NAME, function (_a) {\n            var detail = _a.detail;\n            if (!propagatingLocally) {\n                propagateLocally(detail);\n            }\n        });\n    }\n    function propagateLocally(updateParts) {\n        var wasMe = propagatingLocally;\n        try {\n            propagatingLocally = true;\n            globalEvents.storagemutated.fire(updateParts);\n            signalSubscribersNow(updateParts, true);\n        }\n        finally {\n            propagatingLocally = wasMe;\n        }\n    }\n    var propagatingLocally = false;\n\n    var bc;\n    var createBC = function () { };\n    if (typeof BroadcastChannel !== 'undefined') {\n        createBC = function () {\n            bc = new BroadcastChannel(STORAGE_MUTATED_DOM_EVENT_NAME);\n            bc.onmessage = function (ev) { return ev.data && propagateLocally(ev.data); };\n        };\n        createBC();\n        if (typeof bc.unref === 'function') {\n            bc.unref();\n        }\n        globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME, function (changedParts) {\n            if (!propagatingLocally) {\n                bc.postMessage(changedParts);\n            }\n        });\n    }\n\n    if (typeof addEventListener !== 'undefined') {\n        addEventListener('pagehide', function (event) {\n            if (!Dexie$1.disableBfCache && event.persisted) {\n                if (debug)\n                    console.debug('Dexie: handling persisted pagehide');\n                bc === null || bc === void 0 ? void 0 : bc.close();\n                for (var _i = 0, connections_1 = connections; _i < connections_1.length; _i++) {\n                    var db = connections_1[_i];\n                    db.close({ disableAutoOpen: false });\n                }\n            }\n        });\n        addEventListener('pageshow', function (event) {\n            if (!Dexie$1.disableBfCache && event.persisted) {\n                if (debug)\n                    console.debug('Dexie: handling persisted pageshow');\n                createBC();\n                propagateLocally({ all: new RangeSet(-Infinity, [[]]) });\n            }\n        });\n    }\n\n    function add(value) {\n        return new PropModification({ add: value });\n    }\n\n    function remove(value) {\n        return new PropModification({ remove: value });\n    }\n\n    function replacePrefix(a, b) {\n        return new PropModification({ replacePrefix: [a, b] });\n    }\n\n    DexiePromise.rejectionMapper = mapError;\n    setDebug(debug);\n\n    var namedExports = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        Dexie: Dexie$1,\n        liveQuery: liveQuery,\n        Entity: Entity,\n        cmp: cmp,\n        PropModSymbol: PropModSymbol,\n        PropModification: PropModification,\n        replacePrefix: replacePrefix,\n        add: add,\n        remove: remove,\n        'default': Dexie$1,\n        RangeSet: RangeSet,\n        mergeRanges: mergeRanges,\n        rangesOverlap: rangesOverlap\n    });\n\n    __assign(Dexie$1, namedExports, { default: Dexie$1 });\n\n    return Dexie$1;\n\n}));\n\n", "// Making the module version consumable via require - to prohibit\n// multiple occurrancies of the same module in the same app\n// (dual package hazard, https://nodejs.org/api/packages.html#dual-package-hazard)\nimport _Dexie from \"./dist/dexie.js\";\nconst DexieSymbol = Symbol.for(\"Dexie\");\nconst Dexie = globalThis[DexieSymbol] || (globalThis[DexieSymbol] = _Dexie);\nif (_Dexie.semVer !== Dexie.semVer) {\n    throw new Error(`Two different versions of Dexie loaded in the same app: ${_Dexie.semVer} and ${Dexie.semVer}`);\n}\nconst { liveQuery, mergeRanges, rangesOverlap, RangeSet, cmp, Entity,\n    PropModSymbol, PropModification, replacePrefix, add, remove } = Dexie;\nexport { liveQuery, mergeRanges, rangesOverlap, RangeSet, cmp, Dexie, Entity,\n    PropModSymbol, PropModification, replacePrefix, add, remove };\nexport default Dexie;\n"],
  "mappings": "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",
  "names": ["global", "d", "b", "__assign", "DexieError", "type", "resolve", "reject", "props", "_a", "Entity", "cmp", "Table", "task", "trans", "keys", "i", "add", "args", "PropModSymbol", "PropModification", "Collection", "count", "direction", "WhereClause", "addRange", "ranges", "Transaction", "p", "db", "tables", "keyPath", "compound", "result", "req", "openCursor", "query", "ev", "hasGetAll", "oldVersion", "tableChange", "Version", "indexedDB", "RangeSet", "mergeRanges", "target", "rangesOverlap", "index", "primaryKey", "dxTrans", "cache", "key", "Dexie", "state", "Observable", "liveQuery", "remove", "replacePrefix", "_Dexie"]
}
